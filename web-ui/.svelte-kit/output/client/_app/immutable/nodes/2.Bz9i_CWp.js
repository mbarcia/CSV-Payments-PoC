/*
 * Copyright (c) 2023-2025 Mariano Barcia
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{S as We,i as Ke,s as Xe,n as de,d as b,K as Ce,a as ke,H as a,I as ue,b as H,c as m,L as B,e as k,f as x,M as le,g as se,j as w,N as re,t as ae,O as tt,y as Re,A as Ht,P as qt,h as U,Q as $,k as V,R as Wt,T as He,J as Kt,U as ee,V as Ie,W as Se,X as ze,D as nt,o as xe,p as Te,x as Ze,F as it,G as lt,E as rt,w as Qe}from"../chunks/BLh-r1KR.js";import"../chunks/IHki7fMi.js";function pe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xt={exports:{}};(function(e,t){(function(n,i){i()})(Ge,function(){function n(h,s){return typeof s>"u"?s={autoBom:!1}:typeof s!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function i(h,s,p){var v=new XMLHttpRequest;v.open("GET",h),v.responseType="blob",v.onload=function(){c(v.response,s,p)},v.onerror=function(){console.error("could not download file")},v.send()}function l(h){var s=new XMLHttpRequest;s.open("HEAD",h,!1);try{s.send()}catch{}return 200<=s.status&&299>=s.status}function o(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(s)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ge=="object"&&Ge.global===Ge?Ge:void 0,u=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(h,s,p){var v=r.URL||r.webkitURL,_=document.createElement("a");s=s||h.name||"download",_.download=s,_.rel="noopener",typeof h=="string"?(_.href=h,_.origin===location.origin?o(_):l(_.href)?i(h,s,p):o(_,_.target="_blank")):(_.href=v.createObjectURL(h),setTimeout(function(){v.revokeObjectURL(_.href)},4e4),setTimeout(function(){o(_)},0))}:"msSaveOrOpenBlob"in navigator?function(h,s,p){if(s=s||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(n(h,p),s);else if(l(h))i(h,s,p);else{var v=document.createElement("a");v.href=h,v.target="_blank",setTimeout(function(){o(v)})}}:function(h,s,p,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof h=="string")return i(h,s,p);var _=h.type==="application/octet-stream",f=/constructor/i.test(r.HTMLElement)||r.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||_&&f||u)&&typeof FileReader<"u"){var F=new FileReader;F.onloadend=function(){var E=F.result;E=T?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=E:location=E,v=null},F.readAsDataURL(h)}else{var O=r.URL||r.webkitURL,g=O.createObjectURL(h);v?v.location=g:location.href=g,v=null,setTimeout(function(){O.revokeObjectURL(g)},4e4)}});r.saveAs=c.saveAs=c,e.exports=c})})(Xt);var un=Xt.exports;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function zt(e){return typeof e>"u"||e===null}function sn(e){return typeof e=="object"&&e!==null}function an(e){return Array.isArray(e)?e:zt(e)?[]:[e]}function cn(e,t){var n,i,l,o;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)l=o[n],e[l]=t[l];return e}function fn(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function pn(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var dn=zt,hn=sn,mn=an,_n=fn,gn=pn,vn=cn,ye={isNothing:dn,isObject:hn,toArray:mn,repeat:_n,isNegativeZero:gn,extend:vn};function Zt(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function qe(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Zt(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}qe.prototype=Object.create(Error.prototype);qe.prototype.constructor=qe;qe.prototype.toString=function(t){return this.name+": "+Zt(this,t)};var Le=qe;function ut(e,t,n,i,l){var o="",r="",u=Math.floor(l/2)-1;return i-t>u&&(o=" ... ",t=i-u+o.length),n-i>u&&(r=" ...",n=i+u-r.length),{str:o+e.slice(t,n).replace(/\t/g,"→")+r,pos:i-t+o.length}}function st(e,t){return ye.repeat(" ",t-e.length)+e}function yn(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],l=[],o,r=-1;o=n.exec(e.buffer);)l.push(o.index),i.push(o.index+o[0].length),e.position<=o.index&&r<0&&(r=i.length-2);r<0&&(r=i.length-1);var u="",c,h,s=Math.min(e.line+t.linesAfter,l.length).toString().length,p=t.maxLength-(t.indent+s+3);for(c=1;c<=t.linesBefore&&!(r-c<0);c++)h=ut(e.buffer,i[r-c],l[r-c],e.position-(i[r]-i[r-c]),p),u=ye.repeat(" ",t.indent)+st((e.line-c+1).toString(),s)+" | "+h.str+`
`+u;for(h=ut(e.buffer,i[r],l[r],e.position,p),u+=ye.repeat(" ",t.indent)+st((e.line+1).toString(),s)+" | "+h.str+`
`,u+=ye.repeat("-",t.indent+s+3+h.pos)+`^
`,c=1;c<=t.linesAfter&&!(r+c>=l.length);c++)h=ut(e.buffer,i[r+c],l[r+c],e.position-(i[r]-i[r+c]),p),u+=ye.repeat(" ",t.indent)+st((e.line+c+1).toString(),s)+" | "+h.str+`
`;return u.replace(/\n$/,"")}var bn=yn,Tn=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],kn=["scalar","sequence","mapping"];function wn(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function Cn(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(Tn.indexOf(n)===-1)throw new Le('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=wn(t.styleAliases||null),kn.indexOf(this.kind)===-1)throw new Le('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var ve=Cn;function ht(e,t){var n=[];return e[t].forEach(function(i){var l=n.length;n.forEach(function(o,r){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(l=r)}),n[l]=i}),n}function En(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(l){l.multi?(e.multi[l.kind].push(l),e.multi.fallback.push(l)):e[l.kind][l.tag]=e.fallback[l.tag]=l}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function ct(e){return this.extend(e)}ct.prototype.extend=function(t){var n=[],i=[];if(t instanceof ve)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Le("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof ve))throw new Le("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Le("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Le("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof ve))throw new Le("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(ct.prototype);return l.implicit=(this.implicit||[]).concat(n),l.explicit=(this.explicit||[]).concat(i),l.compiledImplicit=ht(l,"implicit"),l.compiledExplicit=ht(l,"explicit"),l.compiledTypeMap=En(l.compiledImplicit,l.compiledExplicit),l};var Fn=ct,xn=new ve("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),An=new ve("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Nn=new ve("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Sn=new Fn({explicit:[xn,An,Nn]});function In(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function On(){return null}function Dn(e){return e===null}var Ln=new ve("tag:yaml.org,2002:null",{kind:"scalar",resolve:In,construct:On,predicate:Dn,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Pn(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function jn(e){return e==="true"||e==="True"||e==="TRUE"}function Bn(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Mn=new ve("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Pn,construct:jn,predicate:Bn,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Un(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Vn(e){return 48<=e&&e<=55}function Rn(e){return 48<=e&&e<=57}function Yn(e){if(e===null)return!1;var t=e.length,n=0,i=!1,l;if(!t)return!1;if(l=e[n],(l==="-"||l==="+")&&(l=e[++n]),l==="0"){if(n+1===t)return!0;if(l=e[++n],l==="b"){for(n++;n<t;n++)if(l=e[n],l!=="_"){if(l!=="0"&&l!=="1")return!1;i=!0}return i&&l!=="_"}if(l==="x"){for(n++;n<t;n++)if(l=e[n],l!=="_"){if(!Un(e.charCodeAt(n)))return!1;i=!0}return i&&l!=="_"}if(l==="o"){for(n++;n<t;n++)if(l=e[n],l!=="_"){if(!Vn(e.charCodeAt(n)))return!1;i=!0}return i&&l!=="_"}}if(l==="_")return!1;for(;n<t;n++)if(l=e[n],l!=="_"){if(!Rn(e.charCodeAt(n)))return!1;i=!0}return!(!i||l==="_")}function Gn(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Hn(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ye.isNegativeZero(e)}var qn=new ve("tag:yaml.org,2002:int",{kind:"scalar",resolve:Yn,construct:Gn,predicate:Hn,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Wn=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Kn(e){return!(e===null||!Wn.test(e)||e[e.length-1]==="_")}function Xn(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var zn=/^[-+]?[0-9]+e/;function Zn(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ye.isNegativeZero(e))return"-0.0";return n=e.toString(10),zn.test(n)?n.replace("e",".e"):n}function Qn(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ye.isNegativeZero(e))}var Jn=new ve("tag:yaml.org,2002:float",{kind:"scalar",resolve:Kn,construct:Xn,predicate:Qn,represent:Zn,defaultStyle:"lowercase"}),$n=Sn.extend({implicit:[Ln,Mn,qn,Jn]}),ei=$n,Qt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Jt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ti(e){return e===null?!1:Qt.exec(e)!==null||Jt.exec(e)!==null}function ni(e){var t,n,i,l,o,r,u,c=0,h=null,s,p,v;if(t=Qt.exec(e),t===null&&(t=Jt.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,l=+t[3],!t[4])return new Date(Date.UTC(n,i,l));if(o=+t[4],r=+t[5],u=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(s=+t[10],p=+(t[11]||0),h=(s*60+p)*6e4,t[9]==="-"&&(h=-h)),v=new Date(Date.UTC(n,i,l,o,r,u,c)),h&&v.setTime(v.getTime()-h),v}function ii(e){return e.toISOString()}var li=new ve("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ti,construct:ni,instanceOf:Date,represent:ii});function ri(e){return e==="<<"||e===null}var oi=new ve("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ri}),ft=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ui(e){if(e===null)return!1;var t,n,i=0,l=e.length,o=ft;for(n=0;n<l;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function si(e){var t,n,i=e.replace(/[\r\n=]/g,""),l=i.length,o=ft,r=0,u=[];for(t=0;t<l;t++)t%4===0&&t&&(u.push(r>>16&255),u.push(r>>8&255),u.push(r&255)),r=r<<6|o.indexOf(i.charAt(t));return n=l%4*6,n===0?(u.push(r>>16&255),u.push(r>>8&255),u.push(r&255)):n===18?(u.push(r>>10&255),u.push(r>>2&255)):n===12&&u.push(r>>4&255),new Uint8Array(u)}function ai(e){var t="",n=0,i,l,o=e.length,r=ft;for(i=0;i<o;i++)i%3===0&&i&&(t+=r[n>>18&63],t+=r[n>>12&63],t+=r[n>>6&63],t+=r[n&63]),n=(n<<8)+e[i];return l=o%3,l===0?(t+=r[n>>18&63],t+=r[n>>12&63],t+=r[n>>6&63],t+=r[n&63]):l===2?(t+=r[n>>10&63],t+=r[n>>4&63],t+=r[n<<2&63],t+=r[64]):l===1&&(t+=r[n>>2&63],t+=r[n<<4&63],t+=r[64],t+=r[64]),t}function ci(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var fi=new ve("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ui,construct:si,predicate:ci,represent:ai}),pi=Object.prototype.hasOwnProperty,di=Object.prototype.toString;function hi(e){if(e===null)return!0;var t=[],n,i,l,o,r,u=e;for(n=0,i=u.length;n<i;n+=1){if(l=u[n],r=!1,di.call(l)!=="[object Object]")return!1;for(o in l)if(pi.call(l,o))if(!r)r=!0;else return!1;if(!r)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function mi(e){return e!==null?e:[]}var _i=new ve("tag:yaml.org,2002:omap",{kind:"sequence",resolve:hi,construct:mi}),gi=Object.prototype.toString;function vi(e){if(e===null)return!0;var t,n,i,l,o,r=e;for(o=new Array(r.length),t=0,n=r.length;t<n;t+=1){if(i=r[t],gi.call(i)!=="[object Object]"||(l=Object.keys(i),l.length!==1))return!1;o[t]=[l[0],i[l[0]]]}return!0}function yi(e){if(e===null)return[];var t,n,i,l,o,r=e;for(o=new Array(r.length),t=0,n=r.length;t<n;t+=1)i=r[t],l=Object.keys(i),o[t]=[l[0],i[l[0]]];return o}var bi=new ve("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:vi,construct:yi}),Ti=Object.prototype.hasOwnProperty;function ki(e){if(e===null)return!0;var t,n=e;for(t in n)if(Ti.call(n,t)&&n[t]!==null)return!1;return!0}function wi(e){return e!==null?e:{}}var Ci=new ve("tag:yaml.org,2002:set",{kind:"mapping",resolve:ki,construct:wi}),Ei=ei.extend({implicit:[li,oi],explicit:[fi,_i,bi,Ci]}),je=Object.prototype.hasOwnProperty,Je=1,$t=2,en=3,$e=4,at=1,Fi=2,mt=3,xi=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ai=/[\x85\u2028\u2029]/,Ni=/[,\[\]\{\}]/,tn=/^(?:!|!!|![a-z\-]+!)$/i,nn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _t(e){return Object.prototype.toString.call(e)}function Ne(e){return e===10||e===13}function Be(e){return e===9||e===32}function we(e){return e===9||e===32||e===10||e===13}function Ue(e){return e===44||e===91||e===93||e===123||e===125}function Si(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Ii(e){return e===120?2:e===117?4:e===85?8:0}function Oi(e){return 48<=e&&e<=57?e-48:-1}function gt(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Di(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ln=new Array(256),rn=new Array(256);for(var Me=0;Me<256;Me++)ln[Me]=gt(Me)?1:0,rn[Me]=gt(Me);function Li(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Ei,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function on(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=bn(n),new Le(t,n)}function R(e,t){throw on(e,t)}function et(e,t){e.onWarning&&e.onWarning.call(null,on(e,t))}var vt={YAML:function(t,n,i){var l,o,r;t.version!==null&&R(t,"duplication of %YAML directive"),i.length!==1&&R(t,"YAML directive accepts exactly one argument"),l=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),l===null&&R(t,"ill-formed argument of the YAML directive"),o=parseInt(l[1],10),r=parseInt(l[2],10),o!==1&&R(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=r<2,r!==1&&r!==2&&et(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var l,o;i.length!==2&&R(t,"TAG directive accepts exactly two arguments"),l=i[0],o=i[1],tn.test(l)||R(t,"ill-formed tag handle (first argument) of the TAG directive"),je.call(t.tagMap,l)&&R(t,'there is a previously declared suffix for "'+l+'" tag handle'),nn.test(o)||R(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{R(t,"tag prefix is malformed: "+o)}t.tagMap[l]=o}};function Pe(e,t,n,i){var l,o,r,u;if(t<n){if(u=e.input.slice(t,n),i)for(l=0,o=u.length;l<o;l+=1)r=u.charCodeAt(l),r===9||32<=r&&r<=1114111||R(e,"expected valid JSON character");else xi.test(u)&&R(e,"the stream contains non-printable characters");e.result+=u}}function yt(e,t,n,i){var l,o,r,u;for(ye.isObject(n)||R(e,"cannot merge mappings; the provided source object is unacceptable"),l=Object.keys(n),r=0,u=l.length;r<u;r+=1)o=l[r],je.call(t,o)||(t[o]=n[o],i[o]=!0)}function Ve(e,t,n,i,l,o,r,u,c){var h,s;if(Array.isArray(l))for(l=Array.prototype.slice.call(l),h=0,s=l.length;h<s;h+=1)Array.isArray(l[h])&&R(e,"nested arrays are not supported inside keys"),typeof l=="object"&&_t(l[h])==="[object Object]"&&(l[h]="[object Object]");if(typeof l=="object"&&_t(l)==="[object Object]"&&(l="[object Object]"),l=String(l),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(h=0,s=o.length;h<s;h+=1)yt(e,t,o[h],n);else yt(e,t,o,n);else!e.json&&!je.call(n,l)&&je.call(t,l)&&(e.line=r||e.line,e.lineStart=u||e.lineStart,e.position=c||e.position,R(e,"duplicated mapping key")),l==="__proto__"?Object.defineProperty(t,l,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[l]=o,delete n[l];return t}function pt(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):R(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function fe(e,t,n){for(var i=0,l=e.input.charCodeAt(e.position);l!==0;){for(;Be(l);)l===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),l=e.input.charCodeAt(++e.position);if(t&&l===35)do l=e.input.charCodeAt(++e.position);while(l!==10&&l!==13&&l!==0);if(Ne(l))for(pt(e),l=e.input.charCodeAt(e.position),i++,e.lineIndent=0;l===32;)e.lineIndent++,l=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&et(e,"deficient indentation"),i}function ot(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||we(n)))}function dt(e,t){t===1?e.result+=" ":t>1&&(e.result+=ye.repeat(`
`,t-1))}function Pi(e,t,n){var i,l,o,r,u,c,h,s,p=e.kind,v=e.result,_;if(_=e.input.charCodeAt(e.position),we(_)||Ue(_)||_===35||_===38||_===42||_===33||_===124||_===62||_===39||_===34||_===37||_===64||_===96||(_===63||_===45)&&(l=e.input.charCodeAt(e.position+1),we(l)||n&&Ue(l)))return!1;for(e.kind="scalar",e.result="",o=r=e.position,u=!1;_!==0;){if(_===58){if(l=e.input.charCodeAt(e.position+1),we(l)||n&&Ue(l))break}else if(_===35){if(i=e.input.charCodeAt(e.position-1),we(i))break}else{if(e.position===e.lineStart&&ot(e)||n&&Ue(_))break;if(Ne(_))if(c=e.line,h=e.lineStart,s=e.lineIndent,fe(e,!1,-1),e.lineIndent>=t){u=!0,_=e.input.charCodeAt(e.position);continue}else{e.position=r,e.line=c,e.lineStart=h,e.lineIndent=s;break}}u&&(Pe(e,o,r,!1),dt(e,e.line-c),o=r=e.position,u=!1),Be(_)||(r=e.position+1),_=e.input.charCodeAt(++e.position)}return Pe(e,o,r,!1),e.result?!0:(e.kind=p,e.result=v,!1)}function ji(e,t){var n,i,l;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=l=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Pe(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,l=e.position;else return!0;else Ne(n)?(Pe(e,i,l,!0),dt(e,fe(e,!1,t)),i=l=e.position):e.position===e.lineStart&&ot(e)?R(e,"unexpected end of the document within a single quoted scalar"):(e.position++,l=e.position);R(e,"unexpected end of the stream within a single quoted scalar")}function Bi(e,t){var n,i,l,o,r,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return Pe(e,n,e.position,!0),e.position++,!0;if(u===92){if(Pe(e,n,e.position,!0),u=e.input.charCodeAt(++e.position),Ne(u))fe(e,!1,t);else if(u<256&&ln[u])e.result+=rn[u],e.position++;else if((r=Ii(u))>0){for(l=r,o=0;l>0;l--)u=e.input.charCodeAt(++e.position),(r=Si(u))>=0?o=(o<<4)+r:R(e,"expected hexadecimal character");e.result+=Di(o),e.position++}else R(e,"unknown escape sequence");n=i=e.position}else Ne(u)?(Pe(e,n,i,!0),dt(e,fe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&ot(e)?R(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}R(e,"unexpected end of the stream within a double quoted scalar")}function Mi(e,t){var n=!0,i,l,o,r=e.tag,u,c=e.anchor,h,s,p,v,_,f=Object.create(null),T,F,O,g;if(g=e.input.charCodeAt(e.position),g===91)s=93,_=!1,u=[];else if(g===123)s=125,_=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),g=e.input.charCodeAt(++e.position);g!==0;){if(fe(e,!0,t),g=e.input.charCodeAt(e.position),g===s)return e.position++,e.tag=r,e.anchor=c,e.kind=_?"mapping":"sequence",e.result=u,!0;n?g===44&&R(e,"expected the node content, but found ','"):R(e,"missed comma between flow collection entries"),F=T=O=null,p=v=!1,g===63&&(h=e.input.charCodeAt(e.position+1),we(h)&&(p=v=!0,e.position++,fe(e,!0,t))),i=e.line,l=e.lineStart,o=e.position,Ye(e,t,Je,!1,!0),F=e.tag,T=e.result,fe(e,!0,t),g=e.input.charCodeAt(e.position),(v||e.line===i)&&g===58&&(p=!0,g=e.input.charCodeAt(++e.position),fe(e,!0,t),Ye(e,t,Je,!1,!0),O=e.result),_?Ve(e,u,f,F,T,O,i,l,o):p?u.push(Ve(e,null,f,F,T,O,i,l,o)):u.push(T),fe(e,!0,t),g=e.input.charCodeAt(e.position),g===44?(n=!0,g=e.input.charCodeAt(++e.position)):n=!1}R(e,"unexpected end of the stream within a flow collection")}function Ui(e,t){var n,i,l=at,o=!1,r=!1,u=t,c=0,h=!1,s,p;if(p=e.input.charCodeAt(e.position),p===124)i=!1;else if(p===62)i=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)at===l?l=p===43?mt:Fi:R(e,"repeat of a chomping mode identifier");else if((s=Oi(p))>=0)s===0?R(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):r?R(e,"repeat of an indentation width identifier"):(u=t+s-1,r=!0);else break;if(Be(p)){do p=e.input.charCodeAt(++e.position);while(Be(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!Ne(p)&&p!==0)}for(;p!==0;){for(pt(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!r||e.lineIndent<u)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!r&&e.lineIndent>u&&(u=e.lineIndent),Ne(p)){c++;continue}if(e.lineIndent<u){l===mt?e.result+=ye.repeat(`
`,o?1+c:c):l===at&&o&&(e.result+=`
`);break}for(i?Be(p)?(h=!0,e.result+=ye.repeat(`
`,o?1+c:c)):h?(h=!1,e.result+=ye.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=ye.repeat(`
`,c):e.result+=ye.repeat(`
`,o?1+c:c),o=!0,r=!0,c=0,n=e.position;!Ne(p)&&p!==0;)p=e.input.charCodeAt(++e.position);Pe(e,n,e.position,!1)}return!0}function bt(e,t){var n,i=e.tag,l=e.anchor,o=[],r,u=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,R(e,"tab characters must not be used in indentation")),!(c!==45||(r=e.input.charCodeAt(e.position+1),!we(r))));){if(u=!0,e.position++,fe(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,Ye(e,t,en,!1,!0),o.push(e.result),fe(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)R(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=i,e.anchor=l,e.kind="sequence",e.result=o,!0):!1}function Vi(e,t,n){var i,l,o,r,u,c,h=e.tag,s=e.anchor,p={},v=Object.create(null),_=null,f=null,T=null,F=!1,O=!1,g;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),g=e.input.charCodeAt(e.position);g!==0;){if(!F&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,R(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),o=e.line,(g===63||g===58)&&we(i))g===63?(F&&(Ve(e,p,v,_,f,null,r,u,c),_=f=T=null),O=!0,F=!0,l=!0):F?(F=!1,l=!0):R(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,g=i;else{if(r=e.line,u=e.lineStart,c=e.position,!Ye(e,n,$t,!1,!0))break;if(e.line===o){for(g=e.input.charCodeAt(e.position);Be(g);)g=e.input.charCodeAt(++e.position);if(g===58)g=e.input.charCodeAt(++e.position),we(g)||R(e,"a whitespace character is expected after the key-value separator within a block mapping"),F&&(Ve(e,p,v,_,f,null,r,u,c),_=f=T=null),O=!0,F=!1,l=!1,_=e.tag,f=e.result;else if(O)R(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=s,!0}else if(O)R(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=s,!0}if((e.line===o||e.lineIndent>t)&&(F&&(r=e.line,u=e.lineStart,c=e.position),Ye(e,t,$e,!0,l)&&(F?f=e.result:T=e.result),F||(Ve(e,p,v,_,f,T,r,u,c),_=f=T=null),fe(e,!0,-1),g=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&g!==0)R(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return F&&Ve(e,p,v,_,f,null,r,u,c),O&&(e.tag=h,e.anchor=s,e.kind="mapping",e.result=p),O}function Ri(e){var t,n=!1,i=!1,l,o,r;if(r=e.input.charCodeAt(e.position),r!==33)return!1;if(e.tag!==null&&R(e,"duplication of a tag property"),r=e.input.charCodeAt(++e.position),r===60?(n=!0,r=e.input.charCodeAt(++e.position)):r===33?(i=!0,l="!!",r=e.input.charCodeAt(++e.position)):l="!",t=e.position,n){do r=e.input.charCodeAt(++e.position);while(r!==0&&r!==62);e.position<e.length?(o=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):R(e,"unexpected end of the stream within a verbatim tag")}else{for(;r!==0&&!we(r);)r===33&&(i?R(e,"tag suffix cannot contain exclamation marks"):(l=e.input.slice(t-1,e.position+1),tn.test(l)||R(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Ni.test(o)&&R(e,"tag suffix cannot contain flow indicator characters")}o&&!nn.test(o)&&R(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{R(e,"tag name is malformed: "+o)}return n?e.tag=o:je.call(e.tagMap,l)?e.tag=e.tagMap[l]+o:l==="!"?e.tag="!"+o:l==="!!"?e.tag="tag:yaml.org,2002:"+o:R(e,'undeclared tag handle "'+l+'"'),!0}function Yi(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&R(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!we(n)&&!Ue(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&R(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Gi(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!we(i)&&!Ue(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&R(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),je.call(e.anchorMap,n)||R(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],fe(e,!0,-1),!0}function Ye(e,t,n,i,l){var o,r,u,c=1,h=!1,s=!1,p,v,_,f,T,F;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=r=u=$e===n||en===n,i&&fe(e,!0,-1)&&(h=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;Ri(e)||Yi(e);)fe(e,!0,-1)?(h=!0,u=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):u=!1;if(u&&(u=h||l),(c===1||$e===n)&&(Je===n||$t===n?T=t:T=t+1,F=e.position-e.lineStart,c===1?u&&(bt(e,F)||Vi(e,F,T))||Mi(e,T)?s=!0:(r&&Ui(e,T)||ji(e,T)||Bi(e,T)?s=!0:Gi(e)?(s=!0,(e.tag!==null||e.anchor!==null)&&R(e,"alias node should not have any properties")):Pi(e,T,Je===n)&&(s=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(s=u&&bt(e,F))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&R(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,v=e.implicitTypes.length;p<v;p+=1)if(f=e.implicitTypes[p],f.resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(je.call(e.typeMap[e.kind||"fallback"],e.tag))f=e.typeMap[e.kind||"fallback"][e.tag];else for(f=null,_=e.typeMap.multi[e.kind||"fallback"],p=0,v=_.length;p<v;p+=1)if(e.tag.slice(0,_[p].tag.length)===_[p].tag){f=_[p];break}f||R(e,"unknown tag !<"+e.tag+">"),e.result!==null&&f.kind!==e.kind&&R(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+f.kind+'", not "'+e.kind+'"'),f.resolve(e.result,e.tag)?(e.result=f.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):R(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||s}function Hi(e){var t=e.position,n,i,l,o=!1,r;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(r=e.input.charCodeAt(e.position))!==0&&(fe(e,!0,-1),r=e.input.charCodeAt(e.position),!(e.lineIndent>0||r!==37));){for(o=!0,r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!we(r);)r=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),l=[],i.length<1&&R(e,"directive name must not be less than one character in length");r!==0;){for(;Be(r);)r=e.input.charCodeAt(++e.position);if(r===35){do r=e.input.charCodeAt(++e.position);while(r!==0&&!Ne(r));break}if(Ne(r))break;for(n=e.position;r!==0&&!we(r);)r=e.input.charCodeAt(++e.position);l.push(e.input.slice(n,e.position))}r!==0&&pt(e),je.call(vt,i)?vt[i](e,i,l):et(e,'unknown document directive "'+i+'"')}if(fe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,fe(e,!0,-1)):o&&R(e,"directives end mark is expected"),Ye(e,e.lineIndent-1,$e,!1,!0),fe(e,!0,-1),e.checkLineBreaks&&Ai.test(e.input.slice(t,e.position))&&et(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ot(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,fe(e,!0,-1));return}if(e.position<e.length-1)R(e,"end of the stream or a document separator is expected");else return}function qi(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Li(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,R(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Hi(n);return n.documents}function Wi(e,t){var n=qi(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Le("expected a single document in the stream, but found more")}}var Ki=Wi,Xi={load:Ki},zi=Xi.load;function Zi(e){let t,n,i,l,o,r,u,c,h,s,p,v,_;return{c(){t=re("defs"),n=re("linearGradient"),i=re("stop"),l=re("stop"),r=re("polygon"),s=re("polygon"),this.h()},l(f){t=le(f,"defs",{});var T=x(t);n=le(T,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var F=x(n);i=le(F,"stop",{offset:!0,style:!0}),x(i).forEach(b),l=le(F,"stop",{offset:!0,style:!0}),x(l).forEach(b),F.forEach(b),T.forEach(b),r=le(f,"polygon",{points:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),x(r).forEach(b),s=le(f,"polygon",{points:!0,fill:!0,stroke:!0,"stroke-width":!0}),x(s).forEach(b),this.h()},h(){a(i,"offset","0%"),ue(i,"stop-color",(e[2],"#EF4444")),ue(i,"stop-opacity","1"),a(l,"offset","100%"),ue(l,"stop-color",e[2]?"#F87171":"#FCA5A5"),ue(l,"stop-opacity","1"),a(n,"id",o=`arrow-gradient-${e[1]}`),a(n,"x1","0%"),a(n,"y1","0%"),a(n,"x2","100%"),a(n,"y2","0%"),a(r,"points",u=`60,${e[3]/2-40} ${e[4]-20},${e[3]/2-30} ${e[4]-20},${e[3]/2+30} 60,${e[3]/2+40}`),a(r,"fill",c=`url(#arrow-gradient-${e[1]})`),a(r,"stroke",h=e[2]?"#7F1D1D":"#DC2626"),a(r,"stroke-width","2"),a(r,"class","step-arrow"),a(s,"points",p=`20,${e[3]/2-15} 60,${e[3]/2-40} 60,${e[3]/2+40} 20,${e[3]/2+15}`),a(s,"fill",v=`url(#arrow-gradient-${e[1]})`),a(s,"stroke",_=e[2]?"#7F1D1D":"#DC2626"),a(s,"stroke-width","2")},m(f,T){H(f,t,T),m(t,n),m(n,i),m(n,l),H(f,r,T),H(f,s,T)},p(f,T){T&4&&ue(i,"stop-color",(f[2],"#EF4444")),T&4&&ue(l,"stop-color",f[2]?"#F87171":"#FCA5A5"),T&2&&o!==(o=`arrow-gradient-${f[1]}`)&&a(n,"id",o),T&8&&u!==(u=`60,${f[3]/2-40} ${f[4]-20},${f[3]/2-30} ${f[4]-20},${f[3]/2+30} 60,${f[3]/2+40}`)&&a(r,"points",u),T&2&&c!==(c=`url(#arrow-gradient-${f[1]})`)&&a(r,"fill",c),T&4&&h!==(h=f[2]?"#7F1D1D":"#DC2626")&&a(r,"stroke",h),T&8&&p!==(p=`20,${f[3]/2-15} 60,${f[3]/2-40} 60,${f[3]/2+40} 20,${f[3]/2+15}`)&&a(s,"points",p),T&2&&v!==(v=`url(#arrow-gradient-${f[1]})`)&&a(s,"fill",v),T&4&&_!==(_=f[2]?"#7F1D1D":"#DC2626")&&a(s,"stroke",_)},d(f){f&&(b(t),b(r),b(s))}}}function Qi(e){let t,n,i,l,o,r,u,c,h;return{c(){t=re("defs"),n=re("linearGradient"),i=re("stop"),l=re("stop"),r=re("polygon"),this.h()},l(s){t=le(s,"defs",{});var p=x(t);n=le(p,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var v=x(n);i=le(v,"stop",{offset:!0,style:!0}),x(i).forEach(b),l=le(v,"stop",{offset:!0,style:!0}),x(l).forEach(b),v.forEach(b),p.forEach(b),r=le(s,"polygon",{points:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),x(r).forEach(b),this.h()},h(){a(i,"offset","0%"),ue(i,"stop-color",(e[2],"#10B981")),ue(i,"stop-opacity","1"),a(l,"offset","100%"),ue(l,"stop-color",e[2]?"#34D399":"#6EE7B7"),ue(l,"stop-opacity","1"),a(n,"id",o=`arrow-gradient-${e[1]}`),a(n,"x1","0%"),a(n,"y1","0%"),a(n,"x2","100%"),a(n,"y2","0%"),a(r,"points",u=`20,${e[3]/2-30} ${e[4]-60},${e[3]/2-40} ${e[4]-20},${e[3]/2} ${e[4]-60},${e[3]/2+40} 20,${e[3]/2+30}`),a(r,"fill",c=`url(#arrow-gradient-${e[1]})`),a(r,"stroke",h=e[2]?"#065F46":"#047857"),a(r,"stroke-width","2"),a(r,"class","step-arrow")},m(s,p){H(s,t,p),m(t,n),m(n,i),m(n,l),H(s,r,p)},p(s,p){p&4&&ue(i,"stop-color",(s[2],"#10B981")),p&4&&ue(l,"stop-color",s[2]?"#34D399":"#6EE7B7"),p&2&&o!==(o=`arrow-gradient-${s[1]}`)&&a(n,"id",o),p&8&&u!==(u=`20,${s[3]/2-30} ${s[4]-60},${s[3]/2-40} ${s[4]-20},${s[3]/2} ${s[4]-60},${s[3]/2+40} 20,${s[3]/2+30}`)&&a(r,"points",u),p&2&&c!==(c=`url(#arrow-gradient-${s[1]})`)&&a(r,"fill",c),p&4&&h!==(h=s[2]?"#065F46":"#047857")&&a(r,"stroke",h)},d(s){s&&(b(t),b(r))}}}function Ji(e){let t,n,i,l,o,r,u,c,h;return{c(){t=re("defs"),n=re("linearGradient"),i=re("stop"),l=re("stop"),r=re("polygon"),this.h()},l(s){t=le(s,"defs",{});var p=x(t);n=le(p,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var v=x(n);i=le(v,"stop",{offset:!0,style:!0}),x(i).forEach(b),l=le(v,"stop",{offset:!0,style:!0}),x(l).forEach(b),v.forEach(b),p.forEach(b),r=le(s,"polygon",{points:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),x(r).forEach(b),this.h()},h(){a(i,"offset","0%"),ue(i,"stop-color",(e[2],"#4F46E5")),ue(i,"stop-opacity","1"),a(l,"offset","100%"),ue(l,"stop-color",e[2]?"#6366F1":"#818CF8"),ue(l,"stop-opacity","1"),a(n,"id",o=`arrow-gradient-${e[1]}`),a(n,"x1","0%"),a(n,"y1","0%"),a(n,"x2","100%"),a(n,"y2","0%"),a(r,"points",u=`20,${e[3]/2-30} ${e[4]-40},${e[3]/2-30} ${e[4]-20},${e[3]/2} ${e[4]-40},${e[3]/2+30} 20,${e[3]/2+30}`),a(r,"fill",c=`url(#arrow-gradient-${e[1]})`),a(r,"stroke",h=e[2]?"#312E81":"#1E3A8A"),a(r,"stroke-width","2"),a(r,"class","step-arrow")},m(s,p){H(s,t,p),m(t,n),m(n,i),m(n,l),H(s,r,p)},p(s,p){p&4&&ue(i,"stop-color",(s[2],"#4F46E5")),p&4&&ue(l,"stop-color",s[2]?"#6366F1":"#818CF8"),p&2&&o!==(o=`arrow-gradient-${s[1]}`)&&a(n,"id",o),p&8&&u!==(u=`20,${s[3]/2-30} ${s[4]-40},${s[3]/2-30} ${s[4]-20},${s[3]/2} ${s[4]-40},${s[3]/2+30} 20,${s[3]/2+30}`)&&a(r,"points",u),p&2&&c!==(c=`url(#arrow-gradient-${s[1]})`)&&a(r,"fill",c),p&4&&h!==(h=s[2]?"#312E81":"#1E3A8A")&&a(r,"stroke",h)},d(s){s&&(b(t),b(r))}}}function $i(e){let t,n,i,l=e[0].name+"",o,r,u,c;function h(v,_){if(v[0].cardinality==="ONE_TO_ONE"||v[0].cardinality==="SIDE_EFFECT")return Ji;if(v[0].cardinality==="EXPANSION")return Qi;if(v[0].cardinality==="REDUCTION")return Zi}let s=h(e),p=s&&s(e);return{c(){t=w("div"),n=re("svg"),p&&p.c(),i=re("text"),o=ae(l),this.h()},l(v){t=k(v,"DIV",{class:!0,style:!0});var _=x(t);n=le(_,"svg",{width:!0,height:!0,class:!0,role:!0,tabindex:!0});var f=x(n);p&&p.l(f),i=le(f,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"font-weight":!0,class:!0});var T=x(i);o=se(T,l),T.forEach(b),f.forEach(b),_.forEach(b),this.h()},h(){a(i,"x",e[4]/2),a(i,"y",r=e[3]/2+5),a(i,"text-anchor","middle"),a(i,"fill","white"),a(i,"font-size","14"),a(i,"font-weight","bold"),a(i,"class","step-name"),a(n,"width",e[4]),a(n,"height",e[3]),a(n,"class","cursor-pointer"),a(n,"role","button"),a(n,"tabindex","0"),a(t,"class","relative"),ue(t,"width",e[4]+"px"),ue(t,"height",e[3]+"px")},m(v,_){H(v,t,_),m(t,n),p&&p.m(n,null),m(n,i),m(i,o),u||(c=[B(n,"click",e[5]),B(n,"keydown",e[6])],u=!0)},p(v,[_]){s===(s=h(v))&&p?p.p(v,_):(p&&p.d(1),p=s&&s(v),p&&(p.c(),p.m(n,i))),_&1&&l!==(l=v[0].name+"")&&ke(o,l),_&8&&r!==(r=v[3]/2+5)&&a(i,"y",r),_&8&&a(n,"height",v[3]),_&8&&ue(t,"height",v[3]+"px")},i:de,o:de,d(v){v&&b(t),p&&p.d(),u=!1,Ce(c)}}}function el(e,t,n){var p,v,_,f,T;let{step:i}=t,{index:l}=t,{isSelected:o=!1}=t;const r=tt();let u=Math.max(200,(((p=i.name)==null?void 0:p.length)||10)*10),c=120;(((v=i.inputFields)==null?void 0:v.length)>0||((_=i.outputFields)==null?void 0:_.length)>0)&&(c+=Math.max(((f=i.inputFields)==null?void 0:f.length)||0,((T=i.outputFields)==null?void 0:T.length)||0)*20);function h(F){F.preventDefault(),F.stopPropagation(),r("clickStep",{index:l,side:"both"})}const s=F=>F.key==="Enter"&&h(F);return e.$$set=F=>{"step"in F&&n(0,i=F.step),"index"in F&&n(1,l=F.index),"isSelected"in F&&n(2,o=F.isSelected)},[i,l,o,c,u,h,s]}class tl extends We{constructor(t){super(),Ke(this,t,el,$i,Xe,{step:0,index:1,isSelected:2})}}function Tt(e,t,n){const i=e.slice();return i[47]=t[n],i[59]=t,i[49]=n,i}function kt(e,t,n){const i=e.slice();return i[50]=t[n],i}function wt(e,t,n){const i=e.slice();return i[47]=t[n],i[56]=t,i[49]=n,i}function Ct(e,t,n){const i=e.slice();return i[50]=t[n],i}function Et(e,t,n){const i=e.slice();return i[47]=t[n],i[48]=t,i[49]=n,i}function Ft(e,t,n){const i=e.slice();return i[50]=t[n],i}function xt(e,t,n){const i=e.slice();return i[47]=t[n],i[53]=t,i[49]=n,i}function At(e,t,n){const i=e.slice();return i[50]=t[n],i}function Nt(e){var y,N;let t,n,i,l,o=e[1]==="shared"?"Shared Type Configuration":e[1]==="both"?`Step ${e[2]+1}: ${(y=e[0])==null?void 0:y.name} Fields`:`${e[1]==="input"?"Input":"Output"} Fields - ${(N=e[0])==null?void 0:N.name}`,r,u,c,h="✕",s,p,v,_,f="Done",T,F;function O(D,Y){return D[1]==="both"?ll:D[1]==="shared"?il:nl}let g=O(e),E=g(e);return{c(){t=w("div"),n=w("div"),i=w("div"),l=w("h3"),r=ae(o),u=V(),c=w("button"),c.textContent=h,s=V(),E.c(),p=V(),v=w("div"),_=w("button"),_.textContent=f,this.h()},l(D){t=k(D,"DIV",{class:!0});var Y=x(t);n=k(Y,"DIV",{class:!0});var M=x(n);i=k(M,"DIV",{class:!0});var j=x(i);l=k(j,"H3",{class:!0});var S=x(l);r=se(S,o),S.forEach(b),u=U(j),c=k(j,"BUTTON",{class:!0,"data-svelte-h":!0}),$(c)!=="svelte-r8m48b"&&(c.textContent=h),j.forEach(b),s=U(M),E.l(M),p=U(M),v=k(M,"DIV",{class:!0});var G=x(v);_=k(G,"BUTTON",{class:!0,"data-svelte-h":!0}),$(_)!=="svelte-1nl2tfk"&&(_.textContent=f),G.forEach(b),M.forEach(b),Y.forEach(b),this.h()},h(){a(l,"class","text-lg font-semibold"),a(c,"class","text-gray-500 hover:text-gray-700"),a(i,"class","flex justify-between items-center mb-4"),a(_,"class","px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"),a(v,"class","flex justify-end"),a(n,"class","bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-auto"),a(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(D,Y){H(D,t,Y),m(t,n),m(n,i),m(i,l),m(l,r),m(i,u),m(i,c),m(n,s),E.m(n,null),m(n,p),m(n,v),m(v,_),e[44](n),T||(F=[B(c,"click",e[8]),B(_,"click",e[43]),B(n,"click",qt(e[7])),B(t,"click",e[45])],T=!0)},p(D,Y){var M,j;Y[0]&7&&o!==(o=D[1]==="shared"?"Shared Type Configuration":D[1]==="both"?`Step ${D[2]+1}: ${(M=D[0])==null?void 0:M.name} Fields`:`${D[1]==="input"?"Input":"Output"} Fields - ${(j=D[0])==null?void 0:j.name}`)&&ke(r,o),g===(g=O(D))&&E?E.p(D,Y):(E.d(1),E=g(D),E&&(E.c(),E.m(n,p)))},d(D){D&&b(t),E.d(),e[44](null),T=!1,Ce(F)}}}function nl(e){let t,n,i=e[1]==="input"?"Input":"Output",l,o,r,u,c,h,s,p=e[1]==="input"?"Input":"Output",v,_,f,T,F="Add Field",O,g,E;function y(S,G){return S[1]==="input"?ol:rl}let N=y(e),D=N(e);function Y(S,G){return(S[1]==="input"?S[0].inputFields:S[0].outputFields)&&(S[1]==="input"?S[0].inputFields:S[0].outputFields).length===0?al:(S[1]==="input"?S[0].inputFields:S[0].outputFields)?sl:ul}let M=Y(e),j=M(e);return{c(){t=w("div"),n=w("h4"),l=ae(i),o=ae(" Type"),r=V(),u=w("div"),D.c(),c=V(),h=w("div"),s=w("h5"),v=ae(p),_=ae(" Fields"),f=V(),T=w("button"),T.textContent=F,O=V(),j.c(),this.h()},l(S){t=k(S,"DIV",{class:!0});var G=x(t);n=k(G,"H4",{class:!0});var P=x(n);l=se(P,i),o=se(P," Type"),P.forEach(b),r=U(G),u=k(G,"DIV",{class:!0});var W=x(u);D.l(W),W.forEach(b),c=U(G),h=k(G,"DIV",{class:!0});var K=x(h);s=k(K,"H5",{class:!0});var X=x(s);v=se(X,p),_=se(X," Fields"),X.forEach(b),f=U(K),T=k(K,"BUTTON",{class:!0,"data-svelte-h":!0}),$(T)!=="svelte-1xu208s"&&(T.textContent=F),K.forEach(b),O=U(G),j.l(G),G.forEach(b),this.h()},h(){a(n,"class","font-medium mb-2"),a(u,"class","flex items-center mb-3"),a(s,"class","font-medium"),a(T,"class","px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"),a(h,"class","flex justify-between items-center mb-2"),a(t,"class","mb-6")},m(S,G){H(S,t,G),m(t,n),m(n,l),m(n,o),m(t,r),m(t,u),D.m(u,null),m(t,c),m(t,h),m(h,s),m(s,v),m(s,_),m(h,f),m(h,T),m(t,O),j.m(t,null),g||(E=B(T,"click",e[37]),g=!0)},p(S,G){G[0]&2&&i!==(i=S[1]==="input"?"Input":"Output")&&ke(l,i),N===(N=y(S))&&D?D.p(S,G):(D.d(1),D=N(S),D&&(D.c(),D.m(u,null))),G[0]&2&&p!==(p=S[1]==="input"?"Input":"Output")&&ke(v,p),M===(M=Y(S))&&j?j.p(S,G):(j.d(1),j=M(S),j&&(j.c(),j.m(t,null)))},d(S){S&&b(t),D.d(),j.d(),g=!1,E()}}}function il(e){let t,n,i="Shared Type (Connects Previous Output to Current Input)",l,o,r,u="Type Name:",c,h,s,p,v,_="Fields",f,T,F="Add Field",O,g,E;function y(Y,M){return Y[0].inputFields&&Y[0].inputFields.length>0?fl:cl}let N=y(e),D=N(e);return{c(){t=w("div"),n=w("h4"),n.textContent=i,l=V(),o=w("div"),r=w("label"),r.textContent=u,c=V(),h=w("input"),s=V(),p=w("div"),v=w("h5"),v.textContent=_,f=V(),T=w("button"),T.textContent=F,O=V(),D.c(),this.h()},l(Y){t=k(Y,"DIV",{class:!0});var M=x(t);n=k(M,"H4",{class:!0,"data-svelte-h":!0}),$(n)!=="svelte-mgh4af"&&(n.textContent=i),l=U(M),o=k(M,"DIV",{class:!0});var j=x(o);r=k(j,"LABEL",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-1ttmuf0"&&(r.textContent=u),c=U(j),h=k(j,"INPUT",{type:!0,class:!0,placeholder:!0}),j.forEach(b),s=U(M),p=k(M,"DIV",{class:!0});var S=x(p);v=k(S,"H5",{class:!0,"data-svelte-h":!0}),$(v)!=="svelte-16gvj3x"&&(v.textContent=_),f=U(S),T=k(S,"BUTTON",{class:!0,"data-svelte-h":!0}),$(T)!=="svelte-a0klma"&&(T.textContent=F),S.forEach(b),O=U(M),D.l(M),M.forEach(b),this.h()},h(){a(n,"class","font-medium mb-2"),a(r,"class","block text-sm font-medium text-gray-700 mr-2 w-32"),a(h,"type","text"),a(h,"class","flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),a(h,"placeholder","Shared type name"),a(o,"class","flex items-center mb-3"),a(v,"class","font-medium"),a(T,"class","px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"),a(p,"class","flex justify-between items-center mb-2"),a(t,"class","mb-6")},m(Y,M){H(Y,t,M),m(t,n),m(t,l),m(t,o),m(o,r),m(o,c),m(o,h),ee(h,e[0].inputTypeName),m(t,s),m(t,p),m(p,v),m(p,f),m(p,T),m(t,O),D.m(t,null),g||(E=[B(h,"input",e[25]),B(h,"input",e[26]),B(T,"click",e[27])],g=!0)},p(Y,M){M[0]&9&&h.value!==Y[0].inputTypeName&&ee(h,Y[0].inputTypeName),N===(N=y(Y))&&D?D.p(Y,M):(D.d(1),D=N(Y),D&&(D.c(),D.m(t,null)))},d(Y){Y&&b(t),D.d(),g=!1,Ce(E)}}}function ll(e){let t,n,i,l="Input Type",o,r,u,c="Type Name:",h,s,p,v,_,f="Input Fields",T,F,O="Add Field",g,E,y,N,D="Output Type",Y,M,j,S="Type Name:",G,P,W,K,X,q="Output Fields",oe,ce,he="Add Field",Ee,Ae,Oe;function De(J,te){return J[0].inputFields.length===0?dl:pl}let me=De(e),_e=me(e);function ne(J,te){return J[0].outputFields.length===0?ml:hl}let Q=ne(e),Z=Q(e);return{c(){t=w("div"),n=w("div"),i=w("h4"),i.textContent=l,o=V(),r=w("div"),u=w("label"),u.textContent=c,h=V(),s=w("input"),p=V(),v=w("div"),_=w("h5"),_.textContent=f,T=V(),F=w("button"),F.textContent=O,g=V(),_e.c(),E=V(),y=w("div"),N=w("h4"),N.textContent=D,Y=V(),M=w("div"),j=w("label"),j.textContent=S,G=V(),P=w("input"),W=V(),K=w("div"),X=w("h5"),X.textContent=q,oe=V(),ce=w("button"),ce.textContent=he,Ee=V(),Z.c(),this.h()},l(J){t=k(J,"DIV",{class:!0});var te=x(t);n=k(te,"DIV",{});var ge=x(n);i=k(ge,"H4",{class:!0,"data-svelte-h":!0}),$(i)!=="svelte-1uq99o2"&&(i.textContent=l),o=U(ge),r=k(ge,"DIV",{class:!0});var Fe=x(r);u=k(Fe,"LABEL",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-1ttmuf0"&&(u.textContent=c),h=U(Fe),s=k(Fe,"INPUT",{type:!0,class:!0}),Fe.forEach(b),p=U(ge),v=k(ge,"DIV",{class:!0});var d=x(v);_=k(d,"H5",{class:!0,"data-svelte-h":!0}),$(_)!=="svelte-gresfl"&&(_.textContent=f),T=U(d),F=k(d,"BUTTON",{class:!0,"data-svelte-h":!0}),$(F)!=="svelte-6na2ya"&&(F.textContent=O),d.forEach(b),g=U(ge),_e.l(ge),ge.forEach(b),E=U(te),y=k(te,"DIV",{});var C=x(y);N=k(C,"H4",{class:!0,"data-svelte-h":!0}),$(N)!=="svelte-ajs8jl"&&(N.textContent=D),Y=U(C),M=k(C,"DIV",{class:!0});var A=x(M);j=k(A,"LABEL",{class:!0,"data-svelte-h":!0}),$(j)!=="svelte-1ttmuf0"&&(j.textContent=S),G=U(A),P=k(A,"INPUT",{type:!0,class:!0}),A.forEach(b),W=U(C),K=k(C,"DIV",{class:!0});var I=x(K);X=k(I,"H5",{class:!0,"data-svelte-h":!0}),$(X)!=="svelte-1vfrv9s"&&(X.textContent=q),oe=U(I),ce=k(I,"BUTTON",{class:!0,"data-svelte-h":!0}),$(ce)!=="svelte-18079ih"&&(ce.textContent=he),I.forEach(b),Ee=U(C),Z.l(C),C.forEach(b),te.forEach(b),this.h()},h(){a(i,"class","font-medium mb-2"),a(u,"class","block text-sm font-medium text-gray-700 mr-2 w-32"),a(s,"type","text"),a(s,"class","flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),a(r,"class","flex items-center mb-3"),a(_,"class","font-medium"),a(F,"class","px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"),a(v,"class","flex justify-between items-center mb-2"),a(N,"class","font-medium mb-2"),a(j,"class","block text-sm font-medium text-gray-700 mr-2 w-32"),a(P,"type","text"),a(P,"class","flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),a(M,"class","flex items-center mb-3"),a(X,"class","font-medium"),a(ce,"class","px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"),a(K,"class","flex justify-between items-center mb-2"),a(t,"class","grid grid-cols-1 md:grid-cols-2 gap-8")},m(J,te){H(J,t,te),m(t,n),m(n,i),m(n,o),m(n,r),m(r,u),m(r,h),m(r,s),ee(s,e[0].inputTypeName),m(n,p),m(n,v),m(v,_),m(v,T),m(v,F),m(n,g),_e.m(n,null),m(t,E),m(t,y),m(y,N),m(y,Y),m(y,M),m(M,j),m(M,G),m(M,P),ee(P,e[0].outputTypeName),m(y,W),m(y,K),m(K,X),m(K,oe),m(K,ce),m(y,Ee),Z.m(y,null),Ae||(Oe=[B(s,"input",e[9]),B(s,"input",e[10]),B(F,"click",e[11]),B(P,"input",e[17]),B(P,"input",e[18]),B(ce,"click",e[19])],Ae=!0)},p(J,te){te[0]&9&&s.value!==J[0].inputTypeName&&ee(s,J[0].inputTypeName),me===(me=De(J))&&_e?_e.p(J,te):(_e.d(1),_e=me(J),_e&&(_e.c(),_e.m(n,null))),te[0]&9&&P.value!==J[0].outputTypeName&&ee(P,J[0].outputTypeName),Q===(Q=ne(J))&&Z?Z.p(J,te):(Z.d(1),Z=Q(J),Z&&(Z.c(),Z.m(y,null)))},d(J){J&&b(t),_e.d(),Z.d(),Ae=!1,Ce(Oe)}}}function rl(e){let t,n="Type Name:",i,l,o,r;return{c(){t=w("label"),t.textContent=n,i=V(),l=w("input"),this.h()},l(u){t=k(u,"LABEL",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1ttmuf0"&&(t.textContent=n),i=U(u),l=k(u,"INPUT",{type:!0,class:!0}),this.h()},h(){a(t,"class","block text-sm font-medium text-gray-700 mr-2 w-32"),a(l,"type","text"),a(l,"class","flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500")},m(u,c){H(u,t,c),H(u,i,c),H(u,l,c),ee(l,e[0].outputTypeName),o||(r=[B(l,"input",e[35]),B(l,"input",e[36])],o=!0)},p(u,c){c[0]&9&&l.value!==u[0].outputTypeName&&ee(l,u[0].outputTypeName)},d(u){u&&(b(t),b(i),b(l)),o=!1,Ce(r)}}}function ol(e){let t,n="Type Name:",i,l,o,r;return{c(){t=w("label"),t.textContent=n,i=V(),l=w("input"),this.h()},l(u){t=k(u,"LABEL",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1ttmuf0"&&(t.textContent=n),i=U(u),l=k(u,"INPUT",{type:!0,class:!0}),this.h()},h(){a(t,"class","block text-sm font-medium text-gray-700 mr-2 w-32"),a(l,"type","text"),a(l,"class","flex-1 px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500")},m(u,c){H(u,t,c),H(u,i,c),H(u,l,c),ee(l,e[0].inputTypeName),o||(r=[B(l,"input",e[33]),B(l,"input",e[34])],o=!0)},p(u,c){c[0]&9&&l.value!==u[0].inputTypeName&&ee(l,u[0].inputTypeName)},d(u){u&&(b(t),b(i),b(l)),o=!1,Ce(r)}}}function ul(e){let t,n,i,l;return{c(){t=w("p"),n=ae("No "),i=ae(e[1]),l=ae(" fields defined"),this.h()},l(o){t=k(o,"P",{class:!0});var r=x(t);n=se(r,"No "),i=se(r,e[1]),l=se(r," fields defined"),r.forEach(b),this.h()},h(){a(t,"class","text-sm text-gray-500 italic mb-4")},m(o,r){H(o,t,r),m(t,n),m(t,i),m(t,l)},p(o,r){r[0]&2&&ke(i,o[1])},d(o){o&&b(t)}}}function sl(e){let t,n=pe(e[1]==="input"?e[0].inputFields:e[0].outputFields),i=[];for(let l=0;l<n.length;l+=1)i[l]=It(Tt(e,n,l));return{c(){t=w("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){t=k(l,"DIV",{class:!0});var o=x(t);for(let r=0;r<i.length;r+=1)i[r].l(o);o.forEach(b),this.h()},h(){a(t,"class","space-y-2 max-h-60 overflow-y-auto")},m(l,o){H(l,t,o);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(l,o){if(o[0]&75){n=pe(l[1]==="input"?l[0].inputFields:l[0].outputFields);let r;for(r=0;r<n.length;r+=1){const u=Tt(l,n,r);i[r]?i[r].p(u,o):(i[r]=It(u),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){l&&b(t),Ie(i,l)}}}function al(e){let t,n,i,l;return{c(){t=w("p"),n=ae("No "),i=ae(e[1]),l=ae(" fields defined"),this.h()},l(o){t=k(o,"P",{class:!0});var r=x(t);n=se(r,"No "),i=se(r,e[1]),l=se(r," fields defined"),r.forEach(b),this.h()},h(){a(t,"class","text-sm text-gray-500 italic mb-4")},m(o,r){H(o,t,r),m(t,n),m(t,i),m(t,l)},p(o,r){r[0]&2&&ke(i,o[1])},d(o){o&&b(t)}}}function St(e){let t,n=e[50]+"",i,l;return{c(){t=w("option"),i=ae(n),this.h()},l(o){t=k(o,"OPTION",{});var r=x(t);i=se(r,n),r.forEach(b),this.h()},h(){t.__value=l=e[50],ee(t,t.__value)},m(o,r){H(o,t,r),m(t,i)},p(o,r){r[0]&8&&n!==(n=o[50]+"")&&ke(i,n),r[0]&8&&l!==(l=o[50])&&(t.__value=l,ee(t,t.__value))},d(o){o&&b(t)}}}function It(e){let t,n,i,l,o,r,u="Remove",c,h,s;function p(){e[38].call(n,e[59],e[49])}function v(){return e[39](e[49],e[47])}let _=pe(e[3]),f=[];for(let g=0;g<_.length;g+=1)f[g]=St(kt(e,_,g));function T(){e[40].call(l,e[59],e[49])}function F(){return e[41](e[49],e[47])}function O(){return e[42](e[49])}return{c(){t=w("div"),n=w("input"),i=V(),l=w("select");for(let g=0;g<f.length;g+=1)f[g].c();o=V(),r=w("button"),r.textContent=u,c=V(),this.h()},l(g){t=k(g,"DIV",{class:!0});var E=x(t);n=k(E,"INPUT",{type:!0,class:!0,placeholder:!0}),i=U(E),l=k(E,"SELECT",{class:!0});var y=x(l);for(let N=0;N<f.length;N+=1)f[N].l(y);y.forEach(b),o=U(E),r=k(E,"BUTTON",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-1dem6d1"&&(r.textContent=u),c=U(E),E.forEach(b),this.h()},h(){a(n,"type","text"),a(n,"class","flex-1 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),a(n,"placeholder","Field name"),a(l,"class","px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),e[47].type===void 0&&ze(T),a(r,"class","px-2 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm"),a(t,"class","flex items-center gap-2")},m(g,E){H(g,t,E),m(t,n),ee(n,e[47].name),m(t,i),m(t,l);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(l,null);Se(l,e[47].type,!0),m(t,o),m(t,r),m(t,c),h||(s=[B(n,"input",p),B(n,"input",v),B(l,"change",T),B(l,"change",F),B(r,"click",O)],h=!0)},p(g,E){if(e=g,E[0]&11&&n.value!==e[47].name&&ee(n,e[47].name),E[0]&8){_=pe(e[3]);let y;for(y=0;y<_.length;y+=1){const N=kt(e,_,y);f[y]?f[y].p(N,E):(f[y]=St(N),f[y].c(),f[y].m(l,null))}for(;y<f.length;y+=1)f[y].d(1);f.length=_.length}E[0]&11&&Se(l,e[47].type)},d(g){g&&b(t),Ie(f,g),h=!1,Ce(s)}}}function cl(e){let t,n="No fields defined for this shared type";return{c(){t=w("p"),t.textContent=n,this.h()},l(i){t=k(i,"P",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-nj829z"&&(t.textContent=n),this.h()},h(){a(t,"class","text-sm text-gray-500 italic")},m(i,l){H(i,t,l)},p:de,d(i){i&&b(t)}}}function fl(e){let t,n=pe(e[0].inputFields),i=[];for(let l=0;l<n.length;l+=1)i[l]=Dt(wt(e,n,l));return{c(){t=w("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){t=k(l,"DIV",{class:!0});var o=x(t);for(let r=0;r<i.length;r+=1)i[r].l(o);o.forEach(b),this.h()},h(){a(t,"class","space-y-2 max-h-60 overflow-y-auto")},m(l,o){H(l,t,o);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(l,o){if(o[0]&73){n=pe(l[0].inputFields);let r;for(r=0;r<n.length;r+=1){const u=wt(l,n,r);i[r]?i[r].p(u,o):(i[r]=Dt(u),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){l&&b(t),Ie(i,l)}}}function Ot(e){let t,n=e[50]+"",i,l;return{c(){t=w("option"),i=ae(n),this.h()},l(o){t=k(o,"OPTION",{});var r=x(t);i=se(r,n),r.forEach(b),this.h()},h(){t.__value=l=e[50],ee(t,t.__value)},m(o,r){H(o,t,r),m(t,i)},p(o,r){r[0]&8&&n!==(n=o[50]+"")&&ke(i,n),r[0]&8&&l!==(l=o[50])&&(t.__value=l,ee(t,t.__value))},d(o){o&&b(t)}}}function Dt(e){let t,n,i,l,o,r,u="Remove",c,h,s;function p(){e[28].call(n,e[56],e[49])}function v(){return e[29](e[49],e[47])}let _=pe(e[3]),f=[];for(let g=0;g<_.length;g+=1)f[g]=Ot(Ct(e,_,g));function T(){e[30].call(l,e[56],e[49])}function F(){return e[31](e[49],e[47])}function O(){return e[32](e[49])}return{c(){t=w("div"),n=w("input"),i=V(),l=w("select");for(let g=0;g<f.length;g+=1)f[g].c();o=V(),r=w("button"),r.textContent=u,c=V(),this.h()},l(g){t=k(g,"DIV",{class:!0});var E=x(t);n=k(E,"INPUT",{type:!0,class:!0,placeholder:!0}),i=U(E),l=k(E,"SELECT",{class:!0});var y=x(l);for(let N=0;N<f.length;N+=1)f[N].l(y);y.forEach(b),o=U(E),r=k(E,"BUTTON",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-1ws5x1d"&&(r.textContent=u),c=U(E),E.forEach(b),this.h()},h(){a(n,"type","text"),a(n,"class","flex-1 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),a(n,"placeholder","Field name"),a(l,"class","px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),e[47].type===void 0&&ze(T),a(r,"class","px-2 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm"),a(t,"class","flex items-center gap-2")},m(g,E){H(g,t,E),m(t,n),ee(n,e[47].name),m(t,i),m(t,l);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(l,null);Se(l,e[47].type,!0),m(t,o),m(t,r),m(t,c),h||(s=[B(n,"input",p),B(n,"input",v),B(l,"change",T),B(l,"change",F),B(r,"click",O)],h=!0)},p(g,E){if(e=g,E[0]&9&&n.value!==e[47].name&&ee(n,e[47].name),E[0]&8){_=pe(e[3]);let y;for(y=0;y<_.length;y+=1){const N=Ct(e,_,y);f[y]?f[y].p(N,E):(f[y]=Ot(N),f[y].c(),f[y].m(l,null))}for(;y<f.length;y+=1)f[y].d(1);f.length=_.length}E[0]&9&&Se(l,e[47].type)},d(g){g&&b(t),Ie(f,g),h=!1,Ce(s)}}}function pl(e){let t,n=pe(e[0].inputFields),i=[];for(let l=0;l<n.length;l+=1)i[l]=Pt(xt(e,n,l));return{c(){t=w("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){t=k(l,"DIV",{class:!0});var o=x(t);for(let r=0;r<i.length;r+=1)i[r].l(o);o.forEach(b),this.h()},h(){a(t,"class","space-y-2 max-h-60 overflow-y-auto")},m(l,o){H(l,t,o);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(l,o){if(o[0]&73){n=pe(l[0].inputFields);let r;for(r=0;r<n.length;r+=1){const u=xt(l,n,r);i[r]?i[r].p(u,o):(i[r]=Pt(u),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){l&&b(t),Ie(i,l)}}}function dl(e){let t,n="No input fields defined";return{c(){t=w("p"),t.textContent=n,this.h()},l(i){t=k(i,"P",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-24u9jx"&&(t.textContent=n),this.h()},h(){a(t,"class","text-sm text-gray-500 italic mb-4")},m(i,l){H(i,t,l)},p:de,d(i){i&&b(t)}}}function Lt(e){let t,n=e[50]+"",i,l;return{c(){t=w("option"),i=ae(n),this.h()},l(o){t=k(o,"OPTION",{});var r=x(t);i=se(r,n),r.forEach(b),this.h()},h(){t.__value=l=e[50],ee(t,t.__value)},m(o,r){H(o,t,r),m(t,i)},p(o,r){r[0]&8&&n!==(n=o[50]+"")&&ke(i,n),r[0]&8&&l!==(l=o[50])&&(t.__value=l,ee(t,t.__value))},d(o){o&&b(t)}}}function Pt(e){let t,n,i,l,o,r,u="Remove",c,h,s;function p(){e[12].call(n,e[53],e[49])}function v(){return e[13](e[49],e[47])}let _=pe(e[3]),f=[];for(let g=0;g<_.length;g+=1)f[g]=Lt(At(e,_,g));function T(){e[14].call(l,e[53],e[49])}function F(){return e[15](e[49],e[47])}function O(){return e[16](e[49])}return{c(){t=w("div"),n=w("input"),i=V(),l=w("select");for(let g=0;g<f.length;g+=1)f[g].c();o=V(),r=w("button"),r.textContent=u,c=V(),this.h()},l(g){t=k(g,"DIV",{class:!0});var E=x(t);n=k(E,"INPUT",{type:!0,class:!0,placeholder:!0}),i=U(E),l=k(E,"SELECT",{class:!0});var y=x(l);for(let N=0;N<f.length;N+=1)f[N].l(y);y.forEach(b),o=U(E),r=k(E,"BUTTON",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-1bad6v5"&&(r.textContent=u),c=U(E),E.forEach(b),this.h()},h(){a(n,"type","text"),a(n,"class","flex-1 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),a(n,"placeholder","Field name"),a(l,"class","px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),e[47].type===void 0&&ze(T),a(r,"class","px-2 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm"),a(t,"class","flex items-center gap-2")},m(g,E){H(g,t,E),m(t,n),ee(n,e[47].name),m(t,i),m(t,l);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(l,null);Se(l,e[47].type,!0),m(t,o),m(t,r),m(t,c),h||(s=[B(n,"input",p),B(n,"input",v),B(l,"change",T),B(l,"change",F),B(r,"click",O)],h=!0)},p(g,E){if(e=g,E[0]&9&&n.value!==e[47].name&&ee(n,e[47].name),E[0]&8){_=pe(e[3]);let y;for(y=0;y<_.length;y+=1){const N=At(e,_,y);f[y]?f[y].p(N,E):(f[y]=Lt(N),f[y].c(),f[y].m(l,null))}for(;y<f.length;y+=1)f[y].d(1);f.length=_.length}E[0]&9&&Se(l,e[47].type)},d(g){g&&b(t),Ie(f,g),h=!1,Ce(s)}}}function hl(e){let t,n=pe(e[0].outputFields),i=[];for(let l=0;l<n.length;l+=1)i[l]=Bt(Et(e,n,l));return{c(){t=w("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){t=k(l,"DIV",{class:!0});var o=x(t);for(let r=0;r<i.length;r+=1)i[r].l(o);o.forEach(b),this.h()},h(){a(t,"class","space-y-2 max-h-60 overflow-y-auto")},m(l,o){H(l,t,o);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(l,o){if(o[0]&73){n=pe(l[0].outputFields);let r;for(r=0;r<n.length;r+=1){const u=Et(l,n,r);i[r]?i[r].p(u,o):(i[r]=Bt(u),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(l){l&&b(t),Ie(i,l)}}}function ml(e){let t,n="No output fields defined";return{c(){t=w("p"),t.textContent=n,this.h()},l(i){t=k(i,"P",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1vxtbz8"&&(t.textContent=n),this.h()},h(){a(t,"class","text-sm text-gray-500 italic mb-4")},m(i,l){H(i,t,l)},p:de,d(i){i&&b(t)}}}function jt(e){let t,n=e[50]+"",i,l;return{c(){t=w("option"),i=ae(n),this.h()},l(o){t=k(o,"OPTION",{});var r=x(t);i=se(r,n),r.forEach(b),this.h()},h(){t.__value=l=e[50],ee(t,t.__value)},m(o,r){H(o,t,r),m(t,i)},p(o,r){r[0]&8&&n!==(n=o[50]+"")&&ke(i,n),r[0]&8&&l!==(l=o[50])&&(t.__value=l,ee(t,t.__value))},d(o){o&&b(t)}}}function Bt(e){let t,n,i,l,o,r,u="Remove",c,h,s;function p(){e[20].call(n,e[48],e[49])}function v(){return e[21](e[49],e[47])}let _=pe(e[3]),f=[];for(let g=0;g<_.length;g+=1)f[g]=jt(Ft(e,_,g));function T(){e[22].call(l,e[48],e[49])}function F(){return e[23](e[49],e[47])}function O(){return e[24](e[49])}return{c(){t=w("div"),n=w("input"),i=V(),l=w("select");for(let g=0;g<f.length;g+=1)f[g].c();o=V(),r=w("button"),r.textContent=u,c=V(),this.h()},l(g){t=k(g,"DIV",{class:!0});var E=x(t);n=k(E,"INPUT",{type:!0,class:!0,placeholder:!0}),i=U(E),l=k(E,"SELECT",{class:!0});var y=x(l);for(let N=0;N<f.length;N+=1)f[N].l(y);y.forEach(b),o=U(E),r=k(E,"BUTTON",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-1tp9cs8"&&(r.textContent=u),c=U(E),E.forEach(b),this.h()},h(){a(n,"type","text"),a(n,"class","flex-1 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),a(n,"placeholder","Field name"),a(l,"class","px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),e[47].type===void 0&&ze(T),a(r,"class","px-2 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm"),a(t,"class","flex items-center gap-2")},m(g,E){H(g,t,E),m(t,n),ee(n,e[47].name),m(t,i),m(t,l);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(l,null);Se(l,e[47].type,!0),m(t,o),m(t,r),m(t,c),h||(s=[B(n,"input",p),B(n,"input",v),B(l,"change",T),B(l,"change",F),B(r,"click",O)],h=!0)},p(g,E){if(e=g,E[0]&9&&n.value!==e[47].name&&ee(n,e[47].name),E[0]&8){_=pe(e[3]);let y;for(y=0;y<_.length;y+=1){const N=Ft(e,_,y);f[y]?f[y].p(N,E):(f[y]=jt(N),f[y].c(),f[y].m(l,null))}for(;y<f.length;y+=1)f[y].d(1);f.length=_.length}E[0]&9&&Se(l,e[47].type)},d(g){g&&b(t),Ie(f,g),h=!1,Ce(s)}}}function _l(e){let t,n=e[4]&&Nt(e);return{c(){n&&n.c(),t=Re()},l(i){n&&n.l(i),t=Re()},m(i,l){n&&n.m(i,l),H(i,t,l)},p(i,l){i[4]?n?n.p(i,l):(n=Nt(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:de,o:de,d(i){i&&b(t),n&&n.d(i)}}}function gl(e,t,n){const i=tt();let{step:l}=t,{stepIndex:o}=t,{fieldTypes:r=["string","int32","int64","float","double","bool","bytes","Enum"]}=t,{formType:u="both"}=t,{visible:c=!1}=t,h;Ht(()=>{const d=A=>{h&&!h.contains(A.target)&&c&&i("close")},C=A=>{A.key==="Escape"&&c&&i("close")};return document.addEventListener("mousedown",d),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",C)}});function s(d){Wt.call(this,e,d)}const p=()=>i("close");function v(){l.inputTypeName=this.value,n(0,l),n(3,r)}const _=()=>i("typeChange",{property:"inputTypeName",value:l.inputTypeName}),f=()=>i("addInputField");function T(d,C){d[C].name=this.value,n(0,l),n(3,r)}const F=(d,C)=>i("updateField",{type:"input",index:d,property:"name",value:C.name});function O(d,C){d[C].type=He(this),n(0,l),n(3,r)}const g=(d,C)=>i("updateField",{type:"input",index:d,property:"type",value:C.type}),E=d=>i("removeField",{type:"input",index:d});function y(){l.outputTypeName=this.value,n(0,l),n(3,r)}const N=()=>i("typeChange",{property:"outputTypeName",value:l.outputTypeName}),D=()=>i("addOutputField");function Y(d,C){d[C].name=this.value,n(0,l),n(3,r)}const M=(d,C)=>i("updateField",{type:"output",index:d,property:"name",value:C.name});function j(d,C){d[C].type=He(this),n(0,l),n(3,r)}const S=(d,C)=>i("updateField",{type:"output",index:d,property:"type",value:C.type}),G=d=>i("removeField",{type:"output",index:d});function P(){l.inputTypeName=this.value,n(0,l),n(3,r)}const W=()=>i("typeChange",{property:"inputTypeName",value:l.inputTypeName}),K=()=>i("addInputField");function X(d,C){d[C].name=this.value,n(0,l),n(3,r)}const q=(d,C)=>i("updateField",{type:"input",index:d,property:"name",value:C.name});function oe(d,C){d[C].type=He(this),n(0,l),n(3,r)}const ce=(d,C)=>i("updateField",{type:"input",index:d,property:"type",value:C.type}),he=d=>i("removeField",{type:"input",index:d});function Ee(){l.inputTypeName=this.value,n(0,l),n(3,r)}const Ae=()=>i("typeChange",{property:"inputTypeName",value:l.inputTypeName});function Oe(){l.outputTypeName=this.value,n(0,l),n(3,r)}const De=()=>i("typeChange",{property:"outputTypeName",value:l.outputTypeName}),me=()=>i("addField",{type:u});function _e(d,C){d[C].name=this.value,n(1,u),n(0,l),n(3,r)}const ne=(d,C)=>i("updateField",{type:u,index:d,property:"name",value:C.name});function Q(d,C){d[C].type=He(this),n(1,u),n(0,l),n(3,r)}const Z=(d,C)=>i("updateField",{type:u,index:d,property:"type",value:C.type}),J=d=>i("removeField",{type:u,index:d}),te=()=>i("close");function ge(d){Kt[d?"unshift":"push"](()=>{h=d,n(5,h)})}const Fe=()=>i("close");return e.$$set=d=>{"step"in d&&n(0,l=d.step),"stepIndex"in d&&n(2,o=d.stepIndex),"fieldTypes"in d&&n(3,r=d.fieldTypes),"formType"in d&&n(1,u=d.formType),"visible"in d&&n(4,c=d.visible)},[l,u,o,r,c,h,i,s,p,v,_,f,T,F,O,g,E,y,N,D,Y,M,j,S,G,P,W,K,X,q,oe,ce,he,Ee,Ae,Oe,De,me,_e,ne,Q,Z,J,te,ge,Fe]}class vl extends We{constructor(t){super(),Ke(this,t,gl,_l,Xe,{step:0,stepIndex:2,fieldTypes:3,formType:1,visible:4},null,[-1,-1])}}function yl(e){let t,n,i,l,o,r,u;return{c(){t=w("div"),n=re("svg"),i=re("line"),l=re("polygon"),o=re("circle"),this.h()},l(c){t=k(c,"DIV",{class:!0});var h=x(t);n=le(h,"svg",{width:!0,height:!0,class:!0,role:!0,tabindex:!0});var s=x(n);i=le(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0}),x(i).forEach(b),l=le(s,"polygon",{points:!0,fill:!0}),x(l).forEach(b),o=le(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),x(o).forEach(b),s.forEach(b),h.forEach(b),this.h()},h(){a(i,"x1","0"),a(i,"y1","20"),a(i,"x2","40"),a(i,"y2","20"),a(i,"stroke","#9CA3AF"),a(i,"stroke-width","2"),a(i,"stroke-dasharray","4"),a(l,"points","35,15 40,20 35,25"),a(l,"fill","#9CA3AF"),a(o,"cx","20"),a(o,"cy","20"),a(o,"r","6"),a(o,"fill","#9CA3AF"),a(o,"class","opacity-0"),a(n,"width","40"),a(n,"height","40"),a(n,"class","cursor-pointer"),a(n,"role","button"),a(n,"tabindex","0"),a(t,"class","flex justify-center items-center mx-4")},m(c,h){H(c,t,h),m(t,n),m(n,i),m(n,l),m(n,o),r||(u=[B(n,"click",e[0]),B(n,"keydown",e[3])],r=!0)},p:de,i:de,o:de,d(c){c&&b(t),r=!1,Ce(u)}}}function bl(e,t,n){let{stepIndex:i}=t,{sharedType:l}=t;const o=tt();function r(c){c.preventDefault(),c.stopPropagation(),o("clickConnector",{stepIndex:i,side:"shared",sharedType:l})}const u=c=>c.key==="Enter"&&r(c);return e.$$set=c=>{"stepIndex"in c&&n(1,i=c.stepIndex),"sharedType"in c&&n(2,l=c.sharedType)},[r,i,l,u]}class Tl extends We{constructor(t){super(),Ke(this,t,bl,yl,Xe,{stepIndex:1,sharedType:2})}}function Mt(e){let t,n,i,l,o,r,u,c="✕",h,s,p,v,_,f,T,F,O,g,E,y,N,D,Y,M;return{c(){t=w("div"),n=w("div"),i=w("div"),l=w("h3"),o=ae(e[1]),r=V(),u=w("button"),u.textContent=c,h=V(),s=w("div"),p=w("p"),v=ae(e[2]),T=V(),F=w("div"),O=w("button"),g=ae(e[4]),E=V(),y=w("button"),N=ae(e[3]),this.h()},l(j){t=k(j,"DIV",{class:!0});var S=x(t);n=k(S,"DIV",{class:!0});var G=x(n);i=k(G,"DIV",{class:!0});var P=x(i);l=k(P,"H3",{class:!0});var W=x(l);o=se(W,e[1]),W.forEach(b),r=U(P),u=k(P,"BUTTON",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-1oxrk9i"&&(u.textContent=c),P.forEach(b),h=U(G),s=k(G,"DIV",{class:!0});var K=x(s);p=k(K,"P",{class:!0});var X=x(p);v=se(X,e[2]),X.forEach(b),K.forEach(b),T=U(G),F=k(G,"DIV",{class:!0});var q=x(F);O=k(q,"BUTTON",{class:!0});var oe=x(O);g=se(oe,e[4]),oe.forEach(b),E=U(q),y=k(q,"BUTTON",{class:!0});var ce=x(y);N=se(ce,e[3]),ce.forEach(b),q.forEach(b),G.forEach(b),S.forEach(b),this.h()},h(){a(l,"class","text-lg font-semibold"),a(u,"class","text-gray-500 hover:text-gray-700"),a(i,"class","flex justify-between items-center mb-4"),a(p,"class",_=e[5]?"text-yellow-700":"text-gray-700"),a(s,"class",f=e[5]?"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400":"mb-6"),a(O,"class","px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100"),a(y,"class",D=e[5]?"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700":"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"),a(F,"class","flex justify-end space-x-2"),a(n,"class","bg-white rounded-lg shadow-xl p-6 w-full max-w-md"),a(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(j,S){H(j,t,S),m(t,n),m(n,i),m(i,l),m(l,o),m(i,r),m(i,u),m(n,h),m(n,s),m(s,p),m(p,v),m(n,T),m(n,F),m(F,O),m(O,g),m(F,E),m(F,y),m(y,N),e[10](n),Y||(M=[B(u,"click",e[8]),B(O,"click",e[8]),B(y,"click",e[7]),B(n,"click",qt(e[9])),B(t,"click",e[8])],Y=!0)},p(j,S){S&2&&ke(o,j[1]),S&4&&ke(v,j[2]),S&32&&_!==(_=j[5]?"text-yellow-700":"text-gray-700")&&a(p,"class",_),S&32&&f!==(f=j[5]?"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400":"mb-6")&&a(s,"class",f),S&16&&ke(g,j[4]),S&8&&ke(N,j[3]),S&32&&D!==(D=j[5]?"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700":"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700")&&a(y,"class",D)},d(j){j&&b(t),e[10](null),Y=!1,Ce(M)}}}function kl(e){let t,n=e[0]&&Mt(e);return{c(){n&&n.c(),t=Re()},l(i){n&&n.l(i),t=Re()},m(i,l){n&&n.m(i,l),H(i,t,l)},p(i,[l]){i[0]?n?n.p(i,l):(n=Mt(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:de,o:de,d(i){i&&b(t),n&&n.d(i)}}}function wl(e,t,n){const i=tt();let{visible:l=!1}=t,{title:o="Confirm Action"}=t,{message:r=""}=t,{confirmText:u="Confirm"}=t,{cancelText:c="Cancel"}=t,{warning:h=!1}=t,s;Ht(()=>{const T=O=>{s&&!s.contains(O.target)&&l&&i("cancel")},F=O=>{O.key==="Escape"&&l&&i("cancel")};return document.addEventListener("mousedown",T),document.addEventListener("keydown",F),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("keydown",F)}});function p(){i("confirm")}function v(){i("cancel")}function _(T){Wt.call(this,e,T)}function f(T){Kt[T?"unshift":"push"](()=>{s=T,n(6,s)})}return e.$$set=T=>{"visible"in T&&n(0,l=T.visible),"title"in T&&n(1,o=T.title),"message"in T&&n(2,r=T.message),"confirmText"in T&&n(3,u=T.confirmText),"cancelText"in T&&n(4,c=T.cancelText),"warning"in T&&n(5,h=T.warning)},[l,o,r,u,c,h,s,p,v,_,f]}class Cl extends We{constructor(t){super(),Ke(this,t,wl,kl,Xe,{visible:0,title:1,message:2,confirmText:3,cancelText:4,warning:5})}}function Ut(e,t,n){const i=e.slice();return i[48]=t[n],i[49]=t,i[50]=n,i}function Vt(e,t,n){const i=e.slice();return i[51]=t[n],i}function El(e){let t,n,i=pe(e[0].steps),l=[];for(let r=0;r<i.length;r+=1)l[r]=Yt(Ut(e,i,r));const o=r=>xe(l[r],1,1,()=>{l[r]=null});return{c(){t=w("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){t=k(r,"DIV",{class:!0});var u=x(t);for(let c=0;c<l.length;c+=1)l[c].l(u);u.forEach(b),this.h()},h(){a(t,"class","flex items-center mt-8")},m(r,u){H(r,t,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);n=!0},p(r,u){if(u[0]&118017){i=pe(r[0].steps);let c;for(c=0;c<i.length;c+=1){const h=Ut(r,i,c);l[c]?(l[c].p(h,u),Te(l[c],1)):(l[c]=Yt(h),l[c].c(),Te(l[c],1),l[c].m(t,null))}for(Qe(),c=i.length;c<l.length;c+=1)o(c);Ze()}},i(r){if(!n){for(let u=0;u<i.length;u+=1)Te(l[u]);n=!0}},o(r){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)xe(l[u]);n=!1},d(r){r&&b(t),Ie(l,r)}}}function Fl(e){let t,n,i="No steps yet. Add your first step to get started.",l,o,r="+",u,c;return{c(){t=w("div"),n=w("p"),n.textContent=i,l=V(),o=w("button"),o.textContent=r,this.h()},l(h){t=k(h,"DIV",{class:!0});var s=x(t);n=k(s,"P",{class:!0,"data-svelte-h":!0}),$(n)!=="svelte-1vs4fbq"&&(n.textContent=i),l=U(s),o=k(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-1jhco5"&&(o.textContent=r),s.forEach(b),this.h()},h(){a(n,"class","text-lg mb-4"),a(o,"class","w-16 h-16 rounded-full bg-blue-600 text-white text-3xl flex items-center justify-center hover:bg-blue-700 shadow-lg"),a(t,"class","flex flex-col items-center justify-center h-full text-gray-500")},m(h,s){H(h,t,s),m(t,n),m(t,l),m(t,o),u||(c=B(o,"click",e[10]),u=!0)},p:de,i:de,o:de,d(h){h&&b(t),u=!1,c()}}}function Rt(e){let t,n=e[51].label+"",i;return{c(){t=w("option"),i=ae(n),this.h()},l(l){t=k(l,"OPTION",{});var o=x(t);i=se(o,n),o.forEach(b),this.h()},h(){t.__value=e[51].value,ee(t,t.__value)},m(l,o){H(l,t,o),m(t,i)},p:de,d(l){l&&b(t)}}}function xl(e){let t,n=`+
              `,i,l;return{c(){t=w("button"),t.textContent=n,this.h()},l(o){t=k(o,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),$(t)!=="svelte-w7cioy"&&(t.textContent=n),this.h()},h(){a(t,"class","w-12 h-12 rounded-full bg-blue-600 text-white text-2xl flex items-center justify-center hover:bg-blue-700 shadow-lg ml-4 self-center"),a(t,"title","Add Step")},m(o,r){H(o,t,r),i||(l=B(t,"click",e[10]),i=!0)},p:de,i:de,o:de,d(o){o&&b(t),i=!1,l()}}}function Al(e){let t,n;return t=new Tl({props:{stepIndex:e[50]+1,sharedType:e[48].outputTypeName}}),t.$on("clickConnector",e[31]),{c(){rt(t.$$.fragment)},l(i){lt(t.$$.fragment,i)},m(i,l){it(t,i,l),n=!0},p(i,l){const o={};l[0]&1&&(o.sharedType=i[48].outputTypeName),t.$set(o)},i(i){n||(Te(t.$$.fragment,i),n=!0)},o(i){xe(t.$$.fragment,i),n=!1},d(i){nt(t,i)}}}function Yt(e){let t,n,i,l,o,r,u,c,h,s,p="Del",v,_,f,T,F,O,g;n=new tl({props:{step:e[48],index:e[50]}}),n.$on("clickStep",e[26]);let E=pe(e[8]),y=[];for(let P=0;P<E.length;P+=1)y[P]=Rt(Vt(e,E,P));function N(){e[27].call(o,e[49],e[50])}function D(){return e[28](e[50])}function Y(){e[29].call(c,e[49],e[50])}function M(){return e[30](e[50])}const j=[Al,xl],S=[];function G(P,W){return P[50]<P[0].steps.length-1?0:1}return _=G(e),f=S[_]=j[_](e),{c(){t=w("div"),rt(n.$$.fragment),i=V(),l=w("div"),o=w("select");for(let P=0;P<y.length;P+=1)y[P].c();r=V(),u=w("div"),c=w("input"),h=V(),s=w("button"),s.textContent=p,v=V(),f.c(),T=Re(),this.h()},l(P){t=k(P,"DIV",{class:!0});var W=x(t);lt(n.$$.fragment,W),i=U(W),l=k(W,"DIV",{class:!0});var K=x(l);o=k(K,"SELECT",{class:!0});var X=x(o);for(let oe=0;oe<y.length;oe+=1)y[oe].l(X);X.forEach(b),r=U(K),u=k(K,"DIV",{class:!0});var q=x(u);c=k(q,"INPUT",{type:!0,class:!0}),h=U(q),s=k(q,"BUTTON",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1e4w7ax"&&(s.textContent=p),q.forEach(b),K.forEach(b),W.forEach(b),v=U(P),f.l(P),T=Re(),this.h()},h(){a(o,"class","text-xs px-1 py-1 border border-gray-300 rounded"),e[48].cardinality===void 0&&ze(N),a(c,"type","text"),a(c,"class","text-xs w-20 px-1 py-1 border border-gray-300 rounded"),a(s,"class","text-xs px-1.5 py-1 bg-red-600 text-white rounded hover:bg-red-700"),a(u,"class","flex space-x-1 mt-1"),a(l,"class","mt-1 flex flex-col items-center"),a(t,"class","flex flex-col items-center")},m(P,W){H(P,t,W),it(n,t,null),m(t,i),m(t,l),m(l,o);for(let K=0;K<y.length;K+=1)y[K]&&y[K].m(o,null);Se(o,e[48].cardinality,!0),m(l,r),m(l,u),m(u,c),ee(c,e[48].name),m(u,h),m(u,s),H(P,v,W),S[_].m(P,W),H(P,T,W),F=!0,O||(g=[B(o,"change",N),B(o,"change",D),B(c,"input",Y),B(s,"click",M)],O=!0)},p(P,W){e=P;const K={};if(W[0]&1&&(K.step=e[48]),n.$set(K),W[0]&256){E=pe(e[8]);let q;for(q=0;q<E.length;q+=1){const oe=Vt(e,E,q);y[q]?y[q].p(oe,W):(y[q]=Rt(oe),y[q].c(),y[q].m(o,null))}for(;q<y.length;q+=1)y[q].d(1);y.length=E.length}W[0]&257&&Se(o,e[48].cardinality),W[0]&257&&c.value!==e[48].name&&ee(c,e[48].name);let X=_;_=G(e),_===X?S[_].p(e,W):(Qe(),xe(S[X],1,1,()=>{S[X]=null}),Ze(),f=S[_],f?f.p(e,W):(f=S[_]=j[_](e),f.c()),Te(f,1),f.m(T.parentNode,T))},i(P){F||(Te(n.$$.fragment,P),Te(f),F=!0)},o(P){xe(n.$$.fragment,P),xe(f),F=!1},d(P){P&&(b(t),b(v),b(T)),nt(n),Ie(y,P),S[_].d(P),O=!1,Ce(g)}}}function Gt(e){let t,n;return t=new vl({props:{step:e[0].steps[e[2]],stepIndex:e[2],fieldTypes:e[9](e[2]),formType:e[3],visible:e[1]}}),t.$on("close",e[17]),t.$on("addInputField",e[32]),t.$on("addOutputField",e[33]),t.$on("addField",e[34]),t.$on("removeField",e[35]),t.$on("updateField",e[36]),t.$on("typeChange",e[37]),{c(){rt(t.$$.fragment)},l(i){lt(t.$$.fragment,i)},m(i,l){it(t,i,l),n=!0},p(i,l){const o={};l[0]&5&&(o.step=i[0].steps[i[2]]),l[0]&4&&(o.stepIndex=i[2]),l[0]&4&&(o.fieldTypes=i[9](i[2])),l[0]&8&&(o.formType=i[3]),l[0]&2&&(o.visible=i[1]),t.$set(o)},i(i){n||(Te(t.$$.fragment,i),n=!0)},o(i){xe(t.$$.fragment,i),n=!1},d(i){nt(t,i)}}}function Nl(e){let t,n,i,l="Pipeline Canvas",o,r,u,c="Download YAML",h,s,p,v="Upload Config:",_,f,T,F,O,g,E="App Name",y,N,D,Y,M,j="Base Package",S,G,P,W,K,X,q,oe,ce,he,Ee,Ae,Oe;const De=[Fl,El],me=[];function _e(Q,Z){return Q[0].steps.length===0?0:1}X=_e(e),q=me[X]=De[X](e);let ne=e[1]&&Gt(e);return he=new Cl({props:{visible:e[4],title:e[5],message:e[6],warning:e[7],confirmText:"Yes, Convert",cancelText:"Cancel"}}),he.$on("confirm",e[22]),he.$on("cancel",e[23]),{c(){t=w("main"),n=w("div"),i=w("h1"),i.textContent=l,o=V(),r=w("div"),u=w("button"),u.textContent=c,h=V(),s=w("div"),p=w("label"),p.textContent=v,_=V(),f=w("input"),T=V(),F=w("div"),O=w("div"),g=w("label"),g.textContent=E,y=V(),N=w("input"),D=V(),Y=w("div"),M=w("label"),M.textContent=j,S=V(),G=w("input"),P=V(),W=w("div"),K=w("div"),q.c(),oe=V(),ne&&ne.c(),ce=V(),rt(he.$$.fragment),this.h()},l(Q){t=k(Q,"MAIN",{class:!0});var Z=x(t);n=k(Z,"DIV",{class:!0});var J=x(n);i=k(J,"H1",{class:!0,"data-svelte-h":!0}),$(i)!=="svelte-1og4end"&&(i.textContent=l),o=U(J),r=k(J,"DIV",{class:!0});var te=x(r);u=k(te,"BUTTON",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-te2vl6"&&(u.textContent=c),h=U(te),s=k(te,"DIV",{class:!0});var ge=x(s);p=k(ge,"LABEL",{class:!0,"data-svelte-h":!0}),$(p)!=="svelte-73ghv2"&&(p.textContent=v),_=U(ge),f=k(ge,"INPUT",{type:!0,accept:!0,class:!0}),ge.forEach(b),te.forEach(b),T=U(J),F=k(J,"DIV",{class:!0});var Fe=x(F);O=k(Fe,"DIV",{class:!0});var d=x(O);g=k(d,"LABEL",{class:!0,"data-svelte-h":!0}),$(g)!=="svelte-1ezmfrp"&&(g.textContent=E),y=U(d),N=k(d,"INPUT",{type:!0,class:!0}),d.forEach(b),D=U(Fe),Y=k(Fe,"DIV",{class:!0});var C=x(Y);M=k(C,"LABEL",{class:!0,"data-svelte-h":!0}),$(M)!=="svelte-1616tty"&&(M.textContent=j),S=U(C),G=k(C,"INPUT",{type:!0,class:!0}),C.forEach(b),Fe.forEach(b),J.forEach(b),P=U(Z),W=k(Z,"DIV",{class:!0});var A=x(W);K=k(A,"DIV",{class:!0});var I=x(K);q.l(I),I.forEach(b),A.forEach(b),oe=U(Z),ne&&ne.l(Z),ce=U(Z),lt(he.$$.fragment,Z),Z.forEach(b),this.h()},h(){a(i,"class","text-xl font-bold mb-6 text-center"),a(u,"class","w-full mb-3 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm"),a(p,"class","block text-sm font-medium text-gray-700 mb-1"),a(f,"type","file"),a(f,"accept",".yaml,.yml"),a(f,"class","w-full text-sm"),a(s,"class","mb-4"),a(r,"class","flex-grow"),a(g,"class","block text-sm font-medium text-gray-700 mb-1"),a(N,"type","text"),a(N,"class","w-full px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),a(O,"class","mb-3"),a(M,"class","block text-sm font-medium text-gray-700 mb-1"),a(G,"type","text"),a(G,"class","w-full px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"),a(Y,"class","mb-3"),a(F,"class","mt-auto pt-4 border-t border-gray-200"),a(n,"class","w-64 bg-white shadow-lg p-4 overflow-y-auto flex flex-col"),a(K,"class","flex flex-col items-center min-h-full"),a(W,"class","flex-1 p-4 overflow-auto"),a(t,"class","flex h-screen bg-gray-100")},m(Q,Z){H(Q,t,Z),m(t,n),m(n,i),m(n,o),m(n,r),m(r,u),m(r,h),m(r,s),m(s,p),m(s,_),m(s,f),m(n,T),m(n,F),m(F,O),m(O,g),m(O,y),m(O,N),ee(N,e[0].appName),m(F,D),m(F,Y),m(Y,M),m(Y,S),m(Y,G),ee(G,e[0].basePackage),m(t,P),m(t,W),m(W,K),me[X].m(K,null),m(t,oe),ne&&ne.m(t,null),m(t,ce),it(he,t,null),Ee=!0,Ae||(Oe=[B(u,"click",e[12]),B(f,"change",e[13]),B(N,"input",e[24]),B(G,"input",e[25])],Ae=!0)},p(Q,Z){Z[0]&257&&N.value!==Q[0].appName&&ee(N,Q[0].appName),Z[0]&257&&G.value!==Q[0].basePackage&&ee(G,Q[0].basePackage);let J=X;X=_e(Q),X===J?me[X].p(Q,Z):(Qe(),xe(me[J],1,1,()=>{me[J]=null}),Ze(),q=me[X],q?q.p(Q,Z):(q=me[X]=De[X](Q),q.c()),Te(q,1),q.m(K,null)),Q[1]?ne?(ne.p(Q,Z),Z[0]&2&&Te(ne,1)):(ne=Gt(Q),ne.c(),Te(ne,1),ne.m(t,ce)):ne&&(Qe(),xe(ne,1,1,()=>{ne=null}),Ze());const te={};Z[0]&16&&(te.visible=Q[4]),Z[0]&32&&(te.title=Q[5]),Z[0]&64&&(te.message=Q[6]),Z[0]&128&&(te.warning=Q[7]),he.$set(te)},i(Q){Ee||(Te(q),Te(ne),Te(he.$$.fragment,Q),Ee=!0)},o(Q){xe(q),xe(ne),xe(he.$$.fragment,Q),Ee=!1},d(Q){Q&&b(t),me[X].d(),ne&&ne.d(),nt(he),Ae=!1,Ce(Oe)}}}function Sl(e,t,n){let i={appName:"My Pipeline App",basePackage:"com.example.mypipeline",steps:[]},l=!1,o=-1,r="",u=!1,c="",h="",s=!1,p=-1,v="";const _=[{value:"ONE_TO_ONE",label:"1-1 (One-to-One)"},{value:"EXPANSION",label:"Expansion (1-Many)"},{value:"REDUCTION",label:"Reduction (Many-1)"},{value:"SIDE_EFFECT",label:"Side-effect"}],f=["string","int32","int64","float","double","bool","bytes","Enum"];function T(d,C){if(f.includes(d))return!0;for(let A=0;A<C;A++){const I=i.steps[A];if(I.inputTypeName===d||I.outputTypeName===d)return!0}return!1}function F(d){let C=[...f];if(i&&i.steps&&Array.isArray(i.steps))for(let A=0;A<d&&A<i.steps.length;A++){const I=i.steps[A];I.inputTypeName&&!C.includes(I.inputTypeName)&&C.push(I.inputTypeName),I.outputTypeName&&!C.includes(I.outputTypeName)&&C.push(I.outputTypeName)}return C}function O(){const d={name:`Step ${i.steps.length+1}`,serviceName:`step-${i.steps.length+1}-svc`,serviceNameCamel:`step${i.steps.length+1}`,cardinality:"ONE_TO_ONE",stepType:"StepOneToOne",inputTypeName:i.steps.length===0?"InputType":i.steps[i.steps.length-1].outputTypeName,inputTypeSimpleName:i.steps.length===0?"InputType":i.steps[i.steps.length-1].outputTypeSimpleName,inputFields:i.steps.length===0?[]:[...i.steps[i.steps.length-1].outputFields],outputTypeName:`OutputType${i.steps.length+1}`,outputTypeSimpleName:`OutputType${i.steps.length+1}`,outputFields:[],order:i.steps.length+1,grpcClientName:`Step${i.steps.length+1}Svc`};n(0,i.steps=[...i.steps,d],i)}function g(d){n(0,i.steps=i.steps.filter((C,A)=>A!==d),i),i.steps.forEach((C,A)=>{C.order=A+1,A>0&&(C.inputTypeName=i.steps[A-1].outputTypeName,C.inputTypeSimpleName=i.steps[A-1].outputTypeSimpleName)})}function E(d,C){const A=i.steps[d],I=C==="input"?A.inputFields:A.outputFields,z={name:`${C}Field${I.length+1}`,type:"string",protoType:"string"};if(I.push(z),A.cardinality==="SIDE_EFFECT"&&(C==="input"?A.outputFields.push({...z}):A.inputFields.push({...z})),C==="output"){if(d<i.steps.length-1){const L=i.steps[d+1];L.inputFields.push({...z}),n(0,i.steps[d+1]={...L},i)}}else if(C==="input"&&d>0){const L=i.steps[d-1];L.outputFields.push({...z}),n(0,i.steps[d-1]={...L},i)}n(0,i.steps[d]={...A},i),n(0,i={...i})}function y(d,C,A){const I=i.steps[d];if((C==="input"?I.inputFields:I.outputFields).splice(A,1),I.cardinality==="SIDE_EFFECT"&&(C==="input"?I.outputFields.splice(A,1):I.inputFields.splice(A,1)),C==="output"){if(d<i.steps.length-1){const L=i.steps[d+1];L.inputFields&&L.inputFields[A]&&(L.inputFields.splice(A,1),n(0,i.steps[d+1]={...L},i))}}else if(C==="input"&&d>0){const L=i.steps[d-1];L.outputFields&&L.outputFields[A]&&(L.outputFields.splice(A,1),n(0,i.steps[d-1]={...L},i))}n(0,i.steps[d]={...I},i),n(0,i={...i})}function N(d,C,A,I,z){const L=i.steps[d],be=C==="input"?L.inputFields:L.outputFields;if(I==="type"&&!T(z,d)){alert(`Invalid type '${z}'. Valid types are: ${f.join(", ")}, or custom message types defined in previous steps.`);return}if(be[A][I]=z,I==="type"&&(be[A].protoType=z),L.cardinality==="SIDE_EFFECT"&&(C==="input"?(L.outputFields[A][I]=z,I==="type"&&(L.outputFields[A].protoType=z)):(L.inputFields[A][I]=z,I==="type"&&(L.inputFields[A].protoType=z))),n(0,i.steps[d]={...L},i),C==="output"){if(d<i.steps.length-1){const ie=i.steps[d+1];ie&&ie.inputFields&&ie.inputFields[A]&&(ie.inputFields[A][I]=z,I==="type"&&(ie.inputFields[A].protoType=z),n(0,i.steps[d+1]={...ie},i))}}else if(C==="input"&&d>0){const ie=i.steps[d-1];ie&&ie.outputFields&&ie.outputFields[A]&&(ie.outputFields[A][I]=z,I==="type"&&(ie.outputFields[A].protoType=z),n(0,i.steps[d-1]={...ie},i))}n(0,i={...i})}function D(){let d=`---
`;d+='appName: "'+i.appName+`"
`,d+='basePackage: "'+i.basePackage+`"
`,d+=`steps:
`;for(let A=0;A<i.steps.length;A++){const I=i.steps[A];d+='  - stepType: "'+I.stepType+`"
`,d+='    serviceNameCamel: "'+I.serviceNameCamel+`"
`,d+='    serviceName: "'+I.serviceName+`"
`,d+='    cardinality: "'+I.cardinality+`"
`,d+=`    inputFields:
`;for(let z=0;z<I.inputFields.length;z++){const L=I.inputFields[z];d+='    - protoType: "'+L.protoType+`"
`,d+='      name: "'+L.name+`"
`,d+='      type: "'+L.type+`"
`}d+=`    outputFields:
`;for(let z=0;z<I.outputFields.length;z++){const L=I.outputFields[z];d+='    - protoType: "'+L.protoType+`"
`,d+='      name: "'+L.name+`"
`,d+='      type: "'+L.type+`"
`}d+='    outputTypeName: "'+I.outputTypeName+`"
`,d+='    inputTypeName: "'+I.inputTypeName+`"
`,d+='    outputTypeSimpleName: "'+I.outputTypeSimpleName+`"
`,d+='    grpcClientName: "'+I.grpcClientName+`"
`,d+='    name: "'+I.name+`"
`,d+='    inputTypeSimpleName: "'+I.inputTypeSimpleName+`"
`,d+="    order: "+I.order+`
`}const C=new Blob([d],{type:"application/yaml"});un.saveAs(C,i.appName.replace(/\s+/g,"-")+"-config.yaml")}async function Y(d){const C=d.target.files[0];if(C&&(C.name.endsWith(".yaml")||C.name.endsWith(".yml"))){const A=await C.text();try{const I=zi(A);if(!I.appName||!I.basePackage||!I.steps)throw new Error("Invalid configuration file: missing required fields (appName, basePackage, steps)");if(!Array.isArray(I.steps))throw new Error("Invalid configuration file: steps must be an array");for(let z=0;z<I.steps.length;z++){const L=I.steps[z];if(!L.serviceName||!L.serviceNameCamel||!L.cardinality)throw new Error(`Invalid configuration file: step ${z+1} is missing required fields (serviceName, serviceNameCamel, cardinality)`);(!L.inputFields||!Array.isArray(L.inputFields))&&(L.inputFields=[]),(!L.outputFields||!Array.isArray(L.outputFields))&&(L.outputFields=[]);for(let be=0;be<L.inputFields.length;be++){const ie=L.inputFields[be];if(!ie.name||!ie.type||!ie.protoType)throw new Error(`Invalid configuration file: input field ${be+1} in step ${z+1} is missing required properties (name, type, protoType)`);if(!T(ie.type,z))throw new Error(`Invalid configuration file: input field ${be+1} in step ${z+1} has invalid type '${ie.type}'. Valid types are: ${f.join(", ")}, or custom message types defined in previous steps.`)}for(let be=0;be<L.outputFields.length;be++){const ie=L.outputFields[be];if(!ie.name||!ie.type||!ie.protoType)throw new Error(`Invalid configuration file: output field ${be+1} in step ${z+1} is missing required properties (name, type, protoType)`);if(!T(ie.type,z))throw new Error(`Invalid configuration file: output field ${be+1} in step ${z+1} has invalid type '${ie.type}'. Valid types are: ${f.join(", ")}, or custom message types defined in previous steps.`)}if(!L.stepType)switch(L.cardinality){case"EXPANSION":L.stepType="StepOneToMany";break;case"REDUCTION":L.stepType="StepManyToOne";break;case"SIDE_EFFECT":L.stepType="StepSideEffect";break;default:L.stepType="StepOneToOne";break}L.cardinality==="SIDE_EFFECT"&&(L.outputTypeName=L.inputTypeName,L.outputTypeSimpleName=L.inputTypeSimpleName,L.outputFields=[...L.inputFields])}n(0,i=I),n(2,o=-1),n(1,l=!1)}catch(I){alert("Error parsing YAML file: "+I.message)}}}function M(d){const C=i.steps[d];if(C.cardinality==="SIDE_EFFECT"&&C.outputFields&&C.outputFields.length>0){p=d,v=C.cardinality,n(5,c="Convert to Side-Effect Step"),n(6,h=`Converting to a Side-Effect step will synchronize the output type (${C.outputTypeName}) with the input type (${C.inputTypeName}). This will replace all existing output fields with the input fields. Are you sure you want to proceed?`),n(7,s=!0),n(4,u=!0);return}j(d,C.cardinality)}function j(d,C){const A=i.steps[d];switch(A.cardinality=C,C){case"EXPANSION":A.stepType="StepOneToMany";break;case"REDUCTION":A.stepType="StepManyToOne";break;case"SIDE_EFFECT":A.stepType="StepSideEffect",A.outputTypeName=A.inputTypeName,A.outputTypeSimpleName=A.inputTypeSimpleName,A.outputFields=[...A.inputFields];break;default:A.stepType="StepOneToOne";break}n(0,i.steps[d]={...A},i),n(0,i={...i})}function S(d,C){n(2,o=d),n(3,r=C),C==="both"&&n(1,l=!0)}function G(d,C,A){n(2,o=d),n(3,r=C),n(1,l=!0)}function P(){n(1,l=!1),n(3,r="")}function W(d){E(o,d)}function K(d,C){y(o,d,C)}function X(d,C,A,I){N(o,d,C,A,I)}function q(d,C){if(o!==-1){const A=i.steps[o];A[d]=C,n(0,i.steps[o]={...A},i),n(0,i={...i})}}function oe(){n(4,u=!1),p!==-1&&v&&(j(p,v),p=-1,v="")}function ce(){n(4,u=!1),p!==-1&&(i.steps[p],p=-1,v="")}function he(){i.appName=this.value,n(0,i),n(8,_)}function Ee(){i.basePackage=this.value,n(0,i),n(8,_)}const Ae=d=>S(d.detail.index,d.detail.side);function Oe(d,C){d[C].cardinality=He(this),n(0,i),n(8,_)}const De=d=>M(d);function me(d,C){d[C].name=this.value,n(0,i),n(8,_)}return[i,l,o,r,u,c,h,s,_,F,O,g,D,Y,M,S,G,P,W,K,X,q,oe,ce,he,Ee,Ae,Oe,De,me,d=>g(d),d=>G(d.detail.stepIndex,d.detail.side,d.detail.sharedType),()=>W("input"),()=>W("output"),d=>W(d.detail.type),d=>K(d.detail.type,d.detail.index),d=>X(d.detail.type,d.detail.index,d.detail.property,d.detail.value),d=>q(d.detail.property,d.detail.value)]}class Dl extends We{constructor(t){super(),Ke(this,t,Sl,Nl,Xe,{},null,[-1,-1])}}export{Dl as component};
